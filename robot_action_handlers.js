import * as THREE from 'three';
import { policy } from './policy.js';


const action_dt = 0.02;


class RobotActionHandler {
	constructor() {
		this.is_initialized = false;
	}

	init(model) {
		this.complete_nominal_joint_position = new Float32Array(model.key_qpos);
		this.nominal_joint_positions = this.complete_nominal_joint_position.filter((_, i) => this.joint_mask_qpos.includes(i));

		this.nr_action_joints = this.joint_mask_qpos.length;
		this.nr_feet = this.foot_indices.length;
		this.previous_action = new Float32Array(this.nr_action_joints);
		this.feet_contact_times = new Float32Array(this.nr_feet);

		this.is_initialized = true;
	}

	reset() {
		this.previous_action.fill(0.0);
		this.feet_contact_times.fill(0.0);
	}

	action(simulation, model, x_goal_velocity, y_goal_velocity, yaw_goal_velocity) {
		let original_qpos = simulation.qpos;
		let original_qvel = simulation.qvel;
		let qpos = original_qpos.filter((_, i) => this.joint_mask_qpos.includes(i));
		let qvel = original_qvel.filter((_, i) => this.joint_mask_qvel.includes(i));
		let dynamic_joint_observations = []
		for (let i = 0; i < this.nr_action_joints; i++) {
			dynamic_joint_observations.push([
				(qpos[i] - this.nominal_joint_positions[i]) / 4.6,
				qvel[i] / 35.0,
				this.previous_action[i] / 10.0
			]);
		}
		let dynamic_joint_observations_tf = tf.tensor2d(dynamic_joint_observations, [model.nu, 3]);

		let z_pos_all_geoms = simulation.geom_xpos.filter((_, i) => i % 3 == 2)
		let is_multiple_geoms_per_foot = Array.isArray(this.foot_indices[0]);
		let foot_z_pos;
		let foot_contacts;
		if (is_multiple_geoms_per_foot) {
			foot_z_pos = this.foot_indices.map(foot => foot.map(i => z_pos_all_geoms[i]));
			foot_contacts = foot_z_pos.map(foot => foot.some(z => z < this.foot_contact_threshold) ? 1.0 : 0.0);
		}
		else {
			foot_z_pos = this.foot_indices.map(i => z_pos_all_geoms[i]);
			foot_contacts = foot_z_pos.map(z => z < this.foot_contact_threshold ? 1.0 : 0.0);
		}
		this.feet_contact_times = this.feet_contact_times.map((t, i) => foot_contacts[i] == 1 ? t + action_dt : 0.0);
		let dynamic_foot_observations = [];
		for (let i = 0; i < this.nr_feet; i++) {
			dynamic_foot_observations.push([
				(foot_contacts[i] / 0.5) - 1.0,
				Math.min(Math.max((this.feet_contact_times[i] / (5.0 / 2)) - 1.0, -1.0), 1.0)
			]);
		}
		let dynamic_foot_observations_tf = tf.tensor2d(dynamic_foot_observations, [this.nr_feet, 2]);

		let quat = new THREE.Quaternion(original_qpos[4], original_qpos[5], original_qpos[6], original_qpos[3]);
		let inverse_quat = quat.invert();
		let trunk_angular_velocity = new Float32Array([original_qvel[3], original_qvel[4], original_qvel[5]]);
		for (let i = 0; i < 3; i++) {
			trunk_angular_velocity[i] = Math.min(Math.max(trunk_angular_velocity[i] / 50.0, -1.0), 1.0);
		}
		let goal_velocity = new Float32Array([x_goal_velocity, y_goal_velocity, yaw_goal_velocity]);
		let gravity_vector = new THREE.Vector3(0.0, 0.0, -1.0);
		let projected_gravity_vector_three = gravity_vector.applyQuaternion(inverse_quat);
		let projected_gravity_vector = new Float32Array([projected_gravity_vector_three.x, projected_gravity_vector_three.y, projected_gravity_vector_three.z]);
		let general_state_tf = tf.tensor1d([
			...trunk_angular_velocity,
			...goal_velocity,
			...projected_gravity_vector,
			...this.general_policy_state_second_part
		]);

		let nn_action = policy(this.dynamic_joint_description, dynamic_joint_observations_tf, this.dynamic_foot_description, dynamic_foot_observations_tf, general_state_tf).dataSync();

		for (let i = 0; i < this.nr_action_joints; i++) {
			let scaled_action = this.scaling_factor * nn_action[i];
			let target_joint_pos = this.nominal_joint_positions[i] + scaled_action;
			let torque = this.p_gain * (target_joint_pos - qpos[i]) - this.d_gain * qvel[i];
			simulation.ctrl[i] = torque;
			this.previous_action[i] = nn_action[i];
		}
	}
}


class UnitreeA1 extends RobotActionHandler {
	constructor() {
		super();
		this.dynamic_joint_description = tf.tensor2d(
			[[0.6946284174919128, -0.21824967861175537, 0.3838578462600708, 1.0, 0.0, 0.0, 0.0, -0.021739130839705467, -0.9330000281333923, 0.20000000298023224, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.17453283071517944, 0.17453283071517944, -0.6000000238418579, -0.5, -0.375, -0.8534941077232361, -0.33041900396347046, -0.567524254322052, -0.5221588611602783], [0.6946284174919128, -0.6096015572547913, 0.41939613223075867, 0.0, -0.9950041770935059, 0.0998334139585495, 0.0, -0.17391304671764374, -0.9330000281333923, 0.20000000298023224, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.9106065034866333, 0.2276521772146225, -0.6000000238418579, -0.5, -0.375, -0.8534941077232361, -0.33041900396347046, -0.567524254322052, -0.5221588611602783], [0.2660880982875824, -0.6739331483840942, -0.1609022319316864, 0.0, -0.9950041770935059, 0.0998334139585495, -1.0, 0.32608696818351746, -0.9330000281333923, 0.20000000298023224, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, 0.19919522106647491, 0.5862021446228027, -0.6000000238418579, -0.5, -0.375, -0.8534941077232361, -0.33041900396347046, -0.567524254322052, -0.5221588611602783], [0.6946284174919128, 0.21645677089691162, 0.3838578462600708, 1.0, 0.0, 0.0, 0.0, 0.021739130839705467, -0.9330000281333923, 0.20000000298023224, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.17453283071517944, 0.17453283071517944, -0.6000000238418579, -0.5, -0.375, -0.8534941077232361, -0.33041900396347046, -0.567524254322052, -0.5221588611602783], [0.6946284174919128, 0.6078086495399475, 0.41939613223075867, 0.0, 0.9950041770935059, 0.0998334139585495, 0.0, 0.17391304671764374, -0.9330000281333923, 0.20000000298023224, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.2276521772146225, 0.9106065034866333, -0.6000000238418579, -0.5, -0.375, -0.8534941077232361, -0.33041900396347046, -0.567524254322052, -0.5221588611602783], [0.2660880982875824, 0.6721402406692505, -0.1609022319316864, 0.0, 0.9950041770935059, 0.0998334139585495, -1.0, -0.32608696818351746, -0.9330000281333923, 0.20000000298023224, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.5862021446228027, -0.19919522106647491, -0.6000000238418579, -0.5, -0.375, -0.8534941077232361, -0.33041900396347046, -0.567524254322052, -0.5221588611602783], [-0.39859259128570557, -0.21824967861175537, 0.3838578462600708, -1.0, 0.0, 0.0, 0.0, 0.021739130839705467, -0.9330000281333923, 0.20000000298023224, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.17453283071517944, 0.17453283071517944, -0.6000000238418579, -0.5, -0.375, -0.8534941077232361, -0.33041900396347046, -0.567524254322052, -0.5221588611602783], [-0.39859259128570557, -0.6096015572547913, 0.41939613223075867, 0.0, -0.9950041770935059, 0.0998334139585495, 0.0, -0.21739129722118378, -0.9330000281333923, 0.20000000298023224, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.9106065034866333, 0.2276521772146225, -0.6000000238418579, -0.5, -0.375, -0.8534941077232361, -0.33041900396347046, -0.567524254322052, -0.5221588611602783], [-0.9012777209281921, -0.6594913005828857, -0.030630452558398247, 0.0, -0.9950041770935059, 0.0998334139585495, -1.0, 0.32608696818351746, -0.9330000281333923, 0.20000000298023224, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, 0.19919522106647491, 0.5862021446228027, -0.6000000238418579, -0.5, -0.375, -0.8534941077232361, -0.33041900396347046, -0.567524254322052, -0.5221588611602783], [-0.39859259128570557, 0.21645677089691162, 0.3838578462600708, -1.0, 0.0, 0.0, 0.0, -0.021739130839705467, -0.9330000281333923, 0.20000000298023224, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.17453283071517944, 0.17453283071517944, -0.6000000238418579, -0.5, -0.375, -0.8534941077232361, -0.33041900396347046, -0.567524254322052, -0.5221588611602783], [-0.39859259128570557, 0.6078086495399475, 0.41939613223075867, 0.0, 0.9950041770935059, 0.0998334139585495, 0.0, 0.21739129722118378, -0.9330000281333923, 0.20000000298023224, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.2276521772146225, 0.9106065034866333, -0.6000000238418579, -0.5, -0.375, -0.8534941077232361, -0.33041900396347046, -0.567524254322052, -0.5221588611602783], [-0.9012777209281921, 0.657698392868042, -0.030630452558398247, 0.0, 0.9950041770935059, 0.0998334139585495, -1.0, -0.32608696818351746, -0.9330000281333923, 0.20000000298023224, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.5862021446228027, -0.19919522106647491, -0.6000000238418579, -0.5, -0.375, -0.8534941077232361, -0.33041900396347046, -0.567524254322052, -0.5221588611602783]],
			[12, 23]
		);
		this.dynamic_foot_description = tf.tensor2d(
			[[0.6509363651275635, -0.7445561289787292, -0.7979517579078674, -0.6000000238418579, -0.5, -0.375, -0.8534941077232361, -0.33041900396347046, -0.567524254322052, -0.5221588611602783], [0.6509363651275635, 0.7427632212638855, -0.7979517579078674, -0.6000000238418579, -0.5, -0.375, -0.8534941077232361, -0.33041900396347046, -0.567524254322052, -0.5221588611602783], [-0.6148743629455566, -0.7405243515968323, -0.7615832686424255, -0.6000000238418579, -0.5, -0.375, -0.8534941077232361, -0.33041900396347046, -0.567524254322052, -0.5221588611602783], [-0.6148743629455566, 0.7387314438819885, -0.7615832686424255, -0.6000000238418579, -0.5, -0.375, -0.8534941077232361, -0.33041900396347046, -0.567524254322052, -0.5221588611602783]],
			[4, 10]
		);
		this.general_policy_state_second_part = new Float32Array(
			[-0.6, -0.5, -0.375, -0.8534941176470588, -0.33041901219618564, -0.5675242453164081, -0.5221588713958225],
		);
		this.p_gain = 20.0;
		this.d_gain = 0.5;
		this.scaling_factor = 0.25;
		this.joint_mask_qpos = new Float32Array([7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18])
		this.joint_mask_qvel = new Float32Array([6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17])
		this.foot_indices = [19, 29, 39, 49];
		this.foot_contact_threshold = 0.02;
	}
}

class UnitreeGo1 extends RobotActionHandler {
	constructor() {
		super();
		this.dynamic_joint_description = tf.tensor2d(
			[[0.6857365369796753, -0.21990728378295898, 0.4069512188434601, 1.0, 0.0, 0.0, 0.0, -0.021739130839705467, -0.9526000022888184, 0.7200000286102295, -0.800000011920929, -0.8999999761581421, -1.0, -0.6666666865348816, -0.18760868906974792, 0.18760868906974792, -0.6000000238418579, -0.5, -0.375, -0.8500770926475525, -0.29670971632003784, -0.5771695971488953, -0.5244216918945312], [0.6857365369796753, -0.5964191555976868, 0.4405384063720703, 0.0, -0.9950041770935059, 0.0998334139585495, 0.0, -0.17391304671764374, -0.9526000022888184, 0.7200000286102295, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.9784782528877258, 0.1491304337978363, -0.6000000238418579, -0.5, -0.375, -0.8500770926475525, -0.29670971632003784, -0.5771695971488953, -0.5244216918945312], [0.25121650099754333, -0.666495144367218, -0.180419921875, 0.0, -0.9950041770935059, 0.0998334139585495, -1.0, 0.32608696818351746, -0.9289000034332275, 0.14628571271896362, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, 0.19304348528385162, 0.6126086711883545, -0.6000000238418579, -0.5, -0.375, -0.8500770926475525, -0.29670971632003784, -0.5771695971488953, -0.5244216918945312], [0.6857365369796753, 0.22235040366649628, 0.4069512188434601, 1.0, 0.0, 0.0, 0.0, 0.021739130839705467, -0.9526000022888184, 0.7200000286102295, -0.800000011920929, -0.8999999761581421, -1.0, -0.6666666865348816, -0.18760868906974792, 0.18760868906974792, -0.6000000238418579, -0.5, -0.375, -0.8500770926475525, -0.29670971632003784, -0.5771695971488953, -0.5244216918945312], [0.6857365369796753, 0.5988622307777405, 0.4405384063720703, 0.0, 0.9950041770935059, 0.0998334139585495, 0.0, 0.17391304671764374, -0.9526000022888184, 0.7200000286102295, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.1491304337978363, 0.9784782528877258, -0.6000000238418579, -0.5, -0.375, -0.8500770926475525, -0.29670971632003784, -0.5771695971488953, -0.5244216918945312], [0.25121650099754333, 0.6689382791519165, -0.180419921875, 0.0, 0.9950041770935059, 0.0998334139585495, -1.0, -0.32608696818351746, -0.9289000034332275, 0.14628571271896362, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.6126086711883545, -0.19304348528385162, -0.6000000238418579, -0.5, -0.375, -0.8500770926475525, -0.29670971632003784, -0.5771695971488953, -0.5244216918945312], [-0.3840920031070709, -0.21990728378295898, 0.4069512188434601, -1.0, 0.0, 0.0, 0.0, 0.021739130839705467, -0.9526000022888184, 0.7200000286102295, -0.800000011920929, -0.8999999761581421, -1.0, -0.6666666865348816, -0.18760868906974792, 0.18760868906974792, -0.6000000238418579, -0.5, -0.375, -0.8500770926475525, -0.29670971632003784, -0.5771695971488953, -0.5244216918945312], [-0.3840920031070709, -0.5964191555976868, 0.4405384063720703, 0.0, -0.9950041770935059, 0.0998334139585495, 0.0, -0.21739129722118378, -0.9526000022888184, 0.7200000286102295, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.9784782528877258, 0.1491304337978363, -0.6000000238418579, -0.5, -0.375, -0.8500770926475525, -0.29670971632003784, -0.5771695971488953, -0.5244216918945312], [-0.8937914371490479, -0.6507636904716492, -0.04102034121751785, 0.0, -0.9950041770935059, 0.0998334139585495, -1.0, 0.32608696818351746, -0.9289000034332275, 0.14628571271896362, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, 0.19304348528385162, 0.6126086711883545, -0.6000000238418579, -0.5, -0.375, -0.8500770926475525, -0.29670971632003784, -0.5771695971488953, -0.5244216918945312], [-0.3840920031070709, 0.22235040366649628, 0.4069512188434601, -1.0, 0.0, 0.0, 0.0, -0.021739130839705467, -0.9526000022888184, 0.7200000286102295, -0.800000011920929, -0.8999999761581421, -1.0, -0.6666666865348816, -0.18760868906974792, 0.18760868906974792, -0.6000000238418579, -0.5, -0.375, -0.8500770926475525, -0.29670971632003784, -0.5771695971488953, -0.5244216918945312], [-0.3840920031070709, 0.5988622307777405, 0.4405384063720703, 0.0, 0.9950041770935059, 0.0998334139585495, 0.0, 0.21739129722118378, -0.9526000022888184, 0.7200000286102295, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.1491304337978363, 0.9784782528877258, -0.6000000238418579, -0.5, -0.375, -0.8500770926475525, -0.29670971632003784, -0.5771695971488953, -0.5244216918945312], [-0.8937914371490479, 0.6532068252563477, -0.04102034121751785, 0.0, 0.9950041770935059, 0.0998334139585495, -1.0, -0.32608696818351746, -0.9289000034332275, 0.14628571271896362, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.6126086711883545, -0.19304348528385162, -0.6000000238418579, -0.5, -0.375, -0.8500770926475525, -0.29670971632003784, -0.5771695971488953, -0.5244216918945312]],
			[12, 23]
		);
		this.dynamic_foot_description = tf.tensor2d(
			[[0.6414347887039185, -0.7434242963790894, -0.8621057868003845, -0.6000000238418579, -0.5, -0.375, -0.8500770926475525, -0.29670971632003784, -0.5771695971488953, -0.5244216918945312], [0.6414347887039185, 0.7458674311637878, -0.8621057868003845, -0.6000000238418579, -0.5, -0.375, -0.8500770926475525, -0.29670971632003784, -0.5771695971488953, -0.5244216918945312], [-0.603391706943512, -0.739032506942749, -0.8231890797615051, -0.6000000238418579, -0.5, -0.375, -0.8500770926475525, -0.29670971632003784, -0.5771695971488953, -0.5244216918945312], [-0.603391706943512, 0.7414756417274475, -0.8231890797615051, -0.6000000238418579, -0.5, -0.375, -0.8500770926475525, -0.29670971632003784, -0.5771695971488953, -0.5244216918945312]],
			[4, 10]
		);
		this.general_policy_state_second_part = new Float32Array(
			[-0.6000000238418579, -0.5, -0.375, -0.8500770926475525, -0.29670971632003784, -0.5771695971488953, -0.5244216918945312],
		);
		this.p_gain = 20.0;
		this.d_gain = 0.5;
		this.scaling_factor = 0.25;
		this.joint_mask_qpos = new Float32Array([7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18])
		this.joint_mask_qvel = new Float32Array([6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17])
		this.foot_indices = [19, 31, 43, 55];
		this.foot_contact_threshold = 0.023;
	}
}

class UnitreeGo2 extends RobotActionHandler {
	constructor() {
		super();
		this.dynamic_joint_description = tf.tensor2d(
			[[0.6052801012992859, 0.2154567390680313, 0.401143878698349, 1.0, 0.0, 0.0, 0.0, 0.021739130839705467, -0.9526000022888184, 0.7200000286102295, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.2276521772146225, 0.2276521772146225, -0.6000000238418579, -0.5, -0.25, -0.8211010694503784, -0.24621161818504333, -0.5598474740982056, -0.5246139168739319], [0.6052801012992859, 0.6472293138504028, 0.4412548243999481, 0.0, 0.9950041770935059, 0.0998334139585495, 0.0, 0.17391304671764374, -0.9526000022888184, 0.7200000286102295, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.34147825837135315, 0.7588478326797485, -0.6000000238418579, -0.5, -0.25, -0.8211010694503784, -0.24621161818504333, -0.5598474740982056, -0.5246139168739319], [0.19986966252326965, 0.7145475149154663, -0.17995460331439972, 0.0, 0.9950041770935059, 0.0998334139585495, -1.0, -0.32608696818351746, -0.9091399908065796, -0.10285714268684387, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.5918912887573242, -0.18212173879146576, -0.6000000238418579, -0.5, -0.25, -0.8211010694503784, -0.24621161818504333, -0.5598474740982056, -0.5246139168739319], [0.6052801012992859, -0.20712405443191528, 0.401143878698349, 1.0, 0.0, 0.0, 0.0, -0.021739130839705467, -0.9526000022888184, 0.7200000286102295, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.2276521772146225, 0.2276521772146225, -0.6000000238418579, -0.5, -0.25, -0.8211010694503784, -0.24621161818504333, -0.5598474740982056, -0.5246139168739319], [0.6052801012992859, -0.638896644115448, 0.4412548243999481, 0.0, -0.9950041770935059, 0.0998334139585495, 0.0, -0.17391304671764374, -0.9526000022888184, 0.7200000286102295, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.7588478326797485, 0.34147825837135315, -0.6000000238418579, -0.5, -0.25, -0.8211010694503784, -0.24621161818504333, -0.5598474740982056, -0.5246139168739319], [0.19986966252326965, -0.7062148451805115, -0.17995460331439972, 0.0, -0.9950041770935059, 0.0998334139585495, -1.0, 0.32608696818351746, -0.9091399908065796, -0.10285714268684387, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, 0.18212173879146576, 0.5918912887573242, -0.6000000238418579, -0.5, -0.25, -0.8211010694503784, -0.24621161818504333, -0.5598474740982056, -0.5246139168739319], [-0.4210026264190674, 0.2154567390680313, 0.401143878698349, -1.0, 0.0, 0.0, 0.0, -0.021739130839705467, -0.9526000022888184, 0.7200000286102295, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.2276521772146225, 0.2276521772146225, -0.6000000238418579, -0.5, -0.25, -0.8211010694503784, -0.24621161818504333, -0.5598474740982056, -0.5246139168739319], [-0.4210026264190674, 0.6472293138504028, 0.4412548243999481, 0.0, 0.9950041770935059, 0.0998334139585495, 0.0, 0.21739129722118378, -0.9526000022888184, 0.7200000286102295, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.11382608860731125, 0.9865000247955322, -0.6000000238418579, -0.5, -0.25, -0.8211010694503784, -0.24621161818504333, -0.5598474740982056, -0.5246139168739319], [-0.89655601978302, 0.6994351744651794, -0.04049866273999214, 0.0, 0.9950041770935059, 0.0998334139585495, -1.0, -0.32608696818351746, -0.9091399908065796, -0.10285714268684387, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.5918912887573242, -0.18212173879146576, -0.6000000238418579, -0.5, -0.25, -0.8211010694503784, -0.24621161818504333, -0.5598474740982056, -0.5246139168739319], [-0.4210026264190674, -0.20712405443191528, 0.401143878698349, -1.0, 0.0, 0.0, 0.0, 0.021739130839705467, -0.9526000022888184, 0.7200000286102295, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.2276521772146225, 0.2276521772146225, -0.6000000238418579, -0.5, -0.25, -0.8211010694503784, -0.24621161818504333, -0.5598474740982056, -0.5246139168739319], [-0.4210026264190674, -0.638896644115448, 0.4412548243999481, 0.0, -0.9950041770935059, 0.0998334139585495, 0.0, -0.21739129722118378, -0.9526000022888184, 0.7200000286102295, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, -0.9865000247955322, 0.11382608860731125, -0.6000000238418579, -0.5, -0.25, -0.8211010694503784, -0.24621161818504333, -0.5598474740982056, -0.5246139168739319], [-0.89655601978302, -0.6911025047302246, -0.04049866273999214, 0.0, -0.9950041770935059, 0.0998334139585495, -1.0, 0.32608696818351746, -0.9091399908065796, -0.10285714268684387, -1.0, -0.8999999761581421, -1.0, -0.6666666865348816, 0.18212173879146576, 0.5918912887573242, -0.6000000238418579, -0.5, -0.25, -0.8211010694503784, -0.24621161818504333, -0.5598474740982056, -0.5246139168739319]] ,
			[12, 23]
		);
		this.dynamic_foot_description = tf.tensor2d(
			[[0.5598876476287842, 0.7890336513519287, -0.8673096299171448, -0.6000000238418579, -0.5, -0.25, -0.8211010694503784, -0.24621161818504333, -0.5598474740982056, -0.5246139168739319], [0.5598876476287842, -0.7807009816169739, -0.8673096299171448, -0.6000000238418579, -0.5, -0.25, -0.8211010694503784, -0.24621161818504333, -0.5598474740982056, -0.5246139168739319], [-0.630267858505249, 0.7846651673316956, -0.8269975185394287, -0.6000000238418579, -0.5, -0.25, -0.8211010694503784, -0.24621161818504333, -0.5598474740982056, -0.5246139168739319], [-0.630267858505249, -0.7763324975967407, -0.8269975185394287, -0.6000000238418579, -0.5, -0.25, -0.8211010694503784, -0.24621161818504333, -0.5598474740982056, -0.5246139168739319]] ,
			[4, 10]
		);
		this.general_policy_state_second_part = new Float32Array(
			[-0.6000000238418579, -0.5, -0.25, -0.8211010694503784, -0.24621161818504333, -0.5598474740982056, -0.5246139168739319] ,
		);
		this.p_gain = 20.0;
		this.d_gain = 0.5;
		this.scaling_factor = 0.3;
		this.joint_mask_qpos = new Float32Array([7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18])
		this.joint_mask_qvel = new Float32Array([6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17])
		this.foot_indices = [20, 32, 44, 56];
		this.foot_contact_threshold = 0.022;
	}
}

class ANYboticsANYmalB extends RobotActionHandler {
	constructor() {
		super();
		this.dynamic_joint_description = tf.tensor2d(
			[[0.457264244556427, 0.2864508628845215, 0.10354644805192947, 1.0, 0.0, 0.0, 0.0, 0.0, -0.9200000166893005, -0.1428571492433548, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.6826087236404419, 0.6826087236404419, 0.6000000238418579, 1.0, 0.25, -0.6078758835792542, 0.21155333518981934, -0.1900879442691803, 0.3661143183708191], [0.5620883703231812, 0.38769641518592834, 0.10354644805192947, 0.0, 1.0, 0.0, 0.0, 0.08695652335882187, -0.9200000166893005, -0.1428571492433548, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.6826087236404419, 0.6826087236404419, 0.6000000238418579, 1.0, 0.25, -0.6078758835792542, 0.21155333518981934, -0.1900879442691803, 0.3661143183708191], [0.40137797594070435, 0.656861424446106, -0.23356333374977112, 0.0, 1.0, 0.0, -1.0, -0.17391304671764374, -0.9200000166893005, -0.1428571492433548, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.6826087236404419, 0.6826087236404419, 0.6000000238418579, 1.0, 0.25, -0.6078758835792542, 0.21155333518981934, -0.1900879442691803, 0.3661143183708191], [0.457264244556427, -0.2864508628845215, 0.10354644805192947, 1.0, 0.0, 0.0, 0.0, 0.0, -0.9200000166893005, -0.1428571492433548, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.6826087236404419, 0.6826087236404419, 0.6000000238418579, 1.0, 0.25, -0.6078758835792542, 0.21155333518981934, -0.1900879442691803, 0.3661143183708191], [0.5620883703231812, -0.38769641518592834, 0.10354644805192947, 0.0, -1.0, 0.0, 0.0, -0.08695652335882187, -0.9200000166893005, -0.1428571492433548, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.6826087236404419, 0.6826087236404419, 0.6000000238418579, 1.0, 0.25, -0.6078758835792542, 0.21155333518981934, -0.1900879442691803, 0.3661143183708191], [0.40137797594070435, -0.656861424446106, -0.23356333374977112, 0.0, -1.0, 0.0, -1.0, 0.17391304671764374, -0.9200000166893005, -0.1428571492433548, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.6826087236404419, 0.6826087236404419, 0.6000000238418579, 1.0, 0.25, -0.6078758835792542, 0.21155333518981934, -0.1900879442691803, 0.3661143183708191], [-0.457264244556427, 0.2864508628845215, 0.10354644805192947, -1.0, 0.0, 0.0, 0.0, 0.0, -0.9200000166893005, -0.1428571492433548, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.6826087236404419, 0.6826087236404419, 0.6000000238418579, 1.0, 0.25, -0.6078758835792542, 0.21155333518981934, -0.1900879442691803, 0.3661143183708191], [-0.5620883703231812, 0.38769641518592834, 0.10354644805192947, 0.0, 1.0, 0.0, 0.0, -0.08695652335882187, -0.9200000166893005, -0.1428571492433548, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.6826087236404419, 0.6826087236404419, 0.6000000238418579, 1.0, 0.25, -0.6078758835792542, 0.21155333518981934, -0.1900879442691803, 0.3661143183708191], [-0.40137797594070435, 0.656861424446106, -0.23356333374977112, 0.0, 1.0, 0.0, -1.0, 0.17391304671764374, -0.9200000166893005, -0.1428571492433548, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.6826087236404419, 0.6826087236404419, 0.6000000238418579, 1.0, 0.25, -0.6078758835792542, 0.21155333518981934, -0.1900879442691803, 0.3661143183708191], [-0.457264244556427, -0.2864508628845215, 0.10354644805192947, -1.0, 0.0, 0.0, 0.0, 0.0, -0.9200000166893005, -0.1428571492433548, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.6826087236404419, 0.6826087236404419, 0.6000000238418579, 1.0, 0.25, -0.6078758835792542, 0.21155333518981934, -0.1900879442691803, 0.3661143183708191], [-0.5620883703231812, -0.38769641518592834, 0.10354644805192947, 0.0, -1.0, 0.0, 0.0, 0.08695652335882187, -0.9200000166893005, -0.1428571492433548, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.6826087236404419, 0.6826087236404419, 0.6000000238418579, 1.0, 0.25, -0.6078758835792542, 0.21155333518981934, -0.1900879442691803, 0.3661143183708191], [-0.40137797594070435, -0.656861424446106, -0.23356333374977112, 0.0, -1.0, 0.0, -1.0, -0.17391304671764374, -0.9200000166893005, -0.1428571492433548, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.6826087236404419, 0.6826087236404419, 0.6000000238418579, 1.0, 0.25, -0.6078758835792542, 0.21155333518981934, -0.1900879442691803, 0.3661143183708191]] ,
			[12, 23]
		);
		this.dynamic_foot_description = tf.tensor2d(
			[[0.7449910044670105, 0.6074733734130859, -0.5783870816230774, 0.6000000238418579, 1.0, 0.25, -0.6078758835792542, 0.21155333518981934, -0.1900879442691803, 0.3661143183708191], [0.7449910044670105, -0.6074733734130859, -0.5783870816230774, 0.6000000238418579, 1.0, 0.25, -0.6078758835792542, 0.21155333518981934, -0.1900879442691803, 0.3661143183708191], [-0.7449910044670105, 0.6074733734130859, -0.5783870816230774, 0.6000000238418579, 1.0, 0.25, -0.6078758835792542, 0.21155333518981934, -0.1900879442691803, 0.3661143183708191], [-0.7449910044670105, -0.6074733734130859, -0.5783870816230774, 0.6000000238418579, 1.0, 0.25, -0.6078758835792542, 0.21155333518981934, -0.1900879442691803, 0.3661143183708191]] ,
			[4, 10]
		);
		this.general_policy_state_second_part = new Float32Array(
			[0.6000000238418579, 1.0, 0.25, -0.6078758835792542, 0.21155333518981934, -0.1900879442691803, 0.3661143183708191] ,
		);
		this.p_gain = 80.0;
		this.d_gain = 2.0;
		this.scaling_factor = 0.5;
		this.joint_mask_qpos = new Float32Array([7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18])
		this.joint_mask_qvel = new Float32Array([6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17])
		this.foot_indices = [45, 74, 103, 132];
		this.foot_contact_threshold = 0.031;
	}
}

class ANYboticsANYmalC extends RobotActionHandler {
	constructor() {
		super();
		this.dynamic_joint_description = tf.tensor2d(
			[[0.5518326163291931, 0.23507483303546906, 0.36857977509498596, 1.0, 0.0, 0.0, 0.0, 0.0, -0.8399999737739563, -0.5714285969734192, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.156521737575531, 0.10652174055576324, 0.6000000238418579, 1.0, 0.25, -0.4709978699684143, 0.08692382276058197, -0.11517537385225296, -0.09056761115789413], [0.6620519161224365, 0.4245135188102722, 0.36857977509498596, 2.220446049250313e-16, 1.0, 7.732659810244513e-07, 0.0, 0.08695652335882187, -0.8399999737739563, -0.5714285969734192, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.6826087236404419, 0.6826087236404419, 0.6000000238418579, 1.0, 0.25, -0.4709978699684143, 0.08692382276058197, -0.11517537385225296, -0.09056761115789413], [0.45783478021621704, 0.6512255668640137, -0.20870843529701233, 3.3306690738754696e-16, 1.0, 7.732659810244513e-07, -1.0, -0.17391304671764374, -0.8399999737739563, -0.5714285969734192, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.6826087236404419, 0.6826087236404419, 0.6000000238418579, 1.0, 0.25, -0.4709978699684143, 0.08692382276058197, -0.11517537385225296, -0.09056761115789413], [0.5518326163291931, -0.23507483303546906, 0.36857977509498596, 1.0, 0.0, 0.0, 0.0, 0.0, -0.8399999737739563, -0.5714285969734192, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.10652174055576324, 0.156521737575531, 0.6000000238418579, 1.0, 0.25, -0.4709978699684143, 0.08692382276058197, -0.11517537385225296, -0.09056761115789413], [0.6620519161224365, -0.4245135188102722, 0.36857977509498596, 2.220446049250313e-16, -1.0, 7.732659810244513e-07, 0.0, -0.08695652335882187, -0.8399999737739563, -0.5714285969734192, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.6826087236404419, 0.6826087236404419, 0.6000000238418579, 1.0, 0.25, -0.4709978699684143, 0.08692382276058197, -0.11517537385225296, -0.09056761115789413], [0.45783478021621704, -0.6512255668640137, -0.20870843529701233, 3.3306690738754696e-16, -1.0, 7.732659810244513e-07, -1.0, 0.17391304671764374, -0.8399999737739563, -0.5714285969734192, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.6826087236404419, 0.6826087236404419, 0.6000000238418579, 1.0, 0.25, -0.4709978699684143, 0.08692382276058197, -0.11517537385225296, -0.09056761115789413], [-0.5518326163291931, 0.23507483303546906, 0.36857977509498596, -1.0, 0.0, 0.0, 0.0, 0.0, -0.8399999737739563, -0.5714285969734192, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.10652174055576324, 0.156521737575531, 0.6000000238418579, 1.0, 0.25, -0.4709978699684143, 0.08692382276058197, -0.11517537385225296, -0.09056761115789413], [-0.6620519161224365, 0.4245135188102722, 0.36857977509498596, 2.220446049250313e-16, 1.0, 7.732659810244513e-07, 0.0, -0.08695652335882187, -0.8399999737739563, -0.5714285969734192, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.6826087236404419, 0.6826087236404419, 0.6000000238418579, 1.0, 0.25, -0.4709978699684143, 0.08692382276058197, -0.11517537385225296, -0.09056761115789413], [-0.45783478021621704, 0.6512255668640137, -0.20870843529701233, 2.220446049250313e-16, 1.0, 7.732659810244513e-07, -1.0, 0.17391304671764374, -0.8399999737739563, -0.5714285969734192, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.6826087236404419, 0.6826087236404419, 0.6000000238418579, 1.0, 0.25, -0.4709978699684143, 0.08692382276058197, -0.11517537385225296, -0.09056761115789413], [-0.5518326163291931, -0.23507483303546906, 0.36857977509498596, -1.0, 0.0, 0.0, 0.0, 0.0, -0.8399999737739563, -0.5714285969734192, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.156521737575531, 0.10652174055576324, 0.6000000238418579, 1.0, 0.25, -0.4709978699684143, 0.08692382276058197, -0.11517537385225296, -0.09056761115789413], [-0.6620519161224365, -0.4245135188102722, 0.36857977509498596, 2.220446049250313e-16, -1.0, 7.732659810244513e-07, 0.0, 0.08695652335882187, -0.8399999737739563, -0.5714285969734192, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.6826087236404419, 0.6826087236404419, 0.6000000238418579, 1.0, 0.25, -0.4709978699684143, 0.08692382276058197, -0.11517537385225296, -0.09056761115789413], [-0.45783478021621704, -0.6512255668640137, -0.20870843529701233, 2.220446049250313e-16, -1.0, 7.732659810244513e-07, -1.0, -0.17391304671764374, -0.8399999737739563, -0.5714285969734192, -0.800000011920929, -1.0, -1.0, -0.8333333134651184, -0.6826087236404419, 0.6826087236404419, 0.6000000238418579, 1.0, 0.25, -0.4709978699684143, 0.08692382276058197, -0.11517537385225296, -0.09056761115789413]] ,
			[12, 23]
		);
		this.dynamic_foot_description = tf.tensor2d(
			[[0.8329432010650635, 0.6807233691215515, -0.7723957896232605, 0.6000000238418579, 1.0, 0.25, -0.4709978699684143, 0.08692382276058197, -0.11517537385225296, -0.09056761115789413], [0.8329432010650635, -0.6807233691215515, -0.7723957896232605, 0.6000000238418579, 1.0, 0.25, -0.4709978699684143, 0.08692382276058197, -0.11517537385225296, -0.09056761115789413], [-0.8329432010650635, 0.6807233691215515, -0.7723957896232605, 0.6000000238418579, 1.0, 0.25, -0.4709978699684143, 0.08692382276058197, -0.11517537385225296, -0.09056761115789413], [-0.8329432010650635, -0.6807233691215515, -0.7723957896232605, 0.6000000238418579, 1.0, 0.25, -0.4709978699684143, 0.08692382276058197, -0.11517537385225296, -0.09056761115789413]] ,
			[4, 10]
		);
		this.general_policy_state_second_part = new Float32Array(
			[0.6000000238418579, 1.0, 0.25, -0.4709978699684143, 0.08692382276058197, -0.11517537385225296, -0.09056761115789413] ,
		);
		this.p_gain = 80.0;
		this.d_gain = 2.0;
		this.scaling_factor = 0.5;
		this.joint_mask_qpos = new Float32Array([7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18])
		this.joint_mask_qvel = new Float32Array([6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17])
		this.foot_indices = [52, 66, 80, 94];
		this.foot_contact_threshold = 0.03;
	}
}

class GoogleBarkourV0 extends RobotActionHandler {
	constructor() {
		super();
		this.dynamic_joint_description = tf.tensor2d(
			[[0.4996289908885956, -0.2602258026599884, 0.4298546612262726, 1.0, -2.653582669154275e-06, 7.594775865982228e-07, 0.0, -0.021739130839705467, -0.9760000109672546, 0.1428571492433548, -0.9952200055122375, -0.8909875154495239, -1.0, -0.7776666879653931, -0.2276521772146225, 0.2276521772146225, -0.6000000238418579, -0.5, -0.375, -0.8648598790168762, -0.3018951416015625, -0.6184573173522949, -0.5460080504417419], [0.6629279851913452, -0.3734070956707001, 0.4393984079360962, -7.325099431909621e-06, -0.9950037598609924, 0.09983723610639572, 0.0, 0.17391304671764374, -0.9760000109672546, 0.1428571492433548, -0.9952200055122375, -0.8909875154495239, -1.0, -0.7776666879653931, -0.2655934691429138, 0.7057195901870728, -0.6000000238418579, -0.5, -0.375, -0.8648598790168762, -0.3018951416015625, -0.6184573173522949, -0.5460080504417419], [0.22797062993049622, -0.8698075413703918, -0.2236725240945816, -7.202692358987406e-06, -0.9950037598609924, 0.0998372733592987, -1.0, -0.32608696818351746, -0.9760000109672546, 0.1428571492433548, -0.9952200055122375, -0.8909875154495239, -1.0, -0.7776666879653931, -0.5463477969169617, 0.0, -0.6000000238418579, -0.5, -0.375, -0.8648598790168762, -0.3018951416015625, -0.6184573173522949, -0.5460080504417419], [0.4996289908885956, 0.3268645107746124, 0.4298546612262726, 1.0, -1.8095074665325228e-06, -7.594798603349773e-07, 0.0, 0.021739130839705467, -0.9760000109672546, 0.1428571492433548, -0.9952200055122375, -0.8909875154495239, -1.0, -0.7776666879653931, -0.2276521772146225, 0.2276521772146225, -0.6000000238418579, -0.5, -0.375, -0.8648598790168762, -0.3018951416015625, -0.6184573173522949, -0.5460080504417419], [0.6629282832145691, 0.4400444030761719, 0.43939855694770813, 4.895256324743968e-07, 0.9950043559074402, 0.09983169287443161, 0.0, -0.17391304671764374, -0.9760000109672546, 0.1428571492433548, -0.9952200055122375, -0.8909875154495239, -1.0, -0.7776666879653931, -0.7057195901870728, 0.2655934691429138, -0.6000000238418579, -0.5, -0.375, -0.8648598790168762, -0.3018951416015625, -0.6184573173522949, -0.5460080504417419], [0.22797170281410217, 0.936446487903595, -0.22367283701896667, -1.948629915204947e-06, 0.9950040578842163, 0.09983475506305695, -1.0, 0.32608696818351746, -0.9760000109672546, 0.1428571492433548, -0.9952200055122375, -0.8909875154495239, -1.0, -0.7776666879653931, 0.0, 0.5463477969169617, -0.6000000238418579, -0.5, -0.375, -0.8648598790168762, -0.3018951416015625, -0.6184573173522949, -0.5460080504417419], [-0.2601422369480133, -0.2602258026599884, 0.4298546612262726, -1.0, -8.440850365332153e-07, -7.594765065732645e-07, 0.0, 0.021739130839705467, -0.9760000109672546, 0.1428571492433548, -0.9952200055122375, -0.8909875154495239, -1.0, -0.7776666879653931, -0.2276521772146225, 0.2276521772146225, -0.6000000238418579, -0.5, -0.375, -0.8648598790168762, -0.3018951416015625, -0.6184573173522949, -0.5460080504417419], [-0.4234413802623749, -0.3734064996242523, 0.43939855694770813, 2.428259904263541e-06, -0.9950041770935059, 0.09983324259519577, 0.0, 0.21739129722118378, -0.9760000109672546, 0.1428571492433548, -0.9952200055122375, -0.8909875154495239, -1.0, -0.7776666879653931, -0.4325391352176666, 0.5349804162979126, -0.6000000238418579, -0.5, -0.375, -0.8648598790168762, -0.3018951416015625, -0.6184573173522949, -0.5460080504417419], [-0.759105384349823, -0.8839346170425415, -0.3419744074344635, 2.5408835426787846e-06, -0.9950041770935059, 0.09983330219984055, -1.0, -0.32608696818351746, -0.9760000109672546, 0.1428571492433548, -0.9952200055122375, -0.8909875154495239, -1.0, -0.7776666879653931, -0.5463477969169617, 0.0, -0.6000000238418579, -0.5, -0.375, -0.8648598790168762, -0.3018951416015625, -0.6184573173522949, -0.5460080504417419], [-0.2601422369480133, 0.3268645107746124, 0.4298546612262726, -1.0, 0.0, 7.594775865982228e-07, 0.0, -0.021739130839705467, -0.9760000109672546, 0.1428571492433548, -0.9952200055122375, -0.8909875154495239, -1.0, -0.7776666879653931, -0.2276521772146225, 0.2276521772146225, -0.6000000238418579, -0.5, -0.375, -0.8648598790168762, -0.3018951416015625, -0.6184573173522949, -0.5460080504417419], [-0.42344141006469727, 0.44004499912261963, 0.4393984079360962, -1.3566415191235137e-06, 0.995003879070282, 0.09983622282743454, 0.0, -0.21739129722118378, -0.9760000109672546, 0.1428571492433548, -0.9952200055122375, -0.8909875154495239, -1.0, -0.7776666879653931, -0.5349804162979126, 0.4325391352176666, -0.6000000238418579, -0.5, -0.375, -0.8648598790168762, -0.3018951416015625, -0.6184573173522949, -0.5460080504417419], [-0.7591076493263245, 0.9505734443664551, -0.341972291469574, -4.357772013463546e-06, 0.9950036406517029, 0.0998387411236763, -1.0, 0.32608696818351746, -0.9760000109672546, 0.1428571492433548, -0.9952200055122375, -0.8909875154495239, -1.0, -0.7776666879653931, 0.0, 0.5463477969169617, -0.6000000238418579, -0.5, -0.375, -0.8648598790168762, -0.3018951416015625, -0.6184573173522949, -0.5460080504417419]] ,
			[12, 23]
		);
		this.dynamic_foot_description = tf.tensor2d(
			[[0.5612497329711914, -0.8896462321281433, -0.9248346090316772, -0.6000000238418579, -0.5, -0.375, -0.8648598790168762, -0.3018951416015625, -0.6184573173522949, -0.5460080504417419], [0.5612512826919556, 0.9549790024757385, -0.9249442219734192, -0.6000000238418579, -0.5, -0.375, -0.8648598790168762, -0.3018951416015625, -0.6184573173522949, -0.5460080504417419], [-0.34211835265159607, -0.8900131583213806, -0.9279607534408569, -0.6000000238418579, -0.5, -0.375, -0.8648598790168762, -0.3018951416015625, -0.6184573173522949, -0.5460080504417419], [-0.342119961977005, 0.9553601741790771, -0.9280672669410706, -0.6000000238418579, -0.5, -0.375, -0.8648598790168762, -0.3018951416015625, -0.6184573173522949, -0.5460080504417419]] ,
			[4, 10]
		);
		this.general_policy_state_second_part = new Float32Array(
			[-0.6000000238418579, -0.5, -0.375, -0.8648598790168762, -0.3018951416015625, -0.6184573173522949, -0.5460080504417419] ,
		);
		this.p_gain = 20.0;
		this.d_gain = 0.5;
		this.scaling_factor = 0.25;
		this.joint_mask_qpos = new Float32Array([7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18])
		this.joint_mask_qvel = new Float32Array([6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17])
		this.foot_indices = [11, 16, 23, 28];
		this.foot_contact_threshold = 0.015;
	}
}

class GoogleBarkourVB extends RobotActionHandler {
	constructor() {
		super();
		this.dynamic_joint_description = tf.tensor2d(
			[[0.5701761245727539, 0.36405450105667114, 0.40643784403800964, 1.0, 0.0, 0.0, 0.0, 0.021739130839705467, -0.9760000109672546, 0.1428571492433548, -0.995199978351593, -0.8899999856948853, -1.0, -0.7833333611488342, -0.2276521772146225, 0.2276521772146225, -0.4000000059604645, -0.5, -0.375, -0.8294532895088196, -0.2681185305118561, -0.5193970203399658, -0.5086854696273804], [0.7478005290031433, 0.49179351329803467, 0.4189750850200653, 0.0, 0.9950041770935059, 0.0998334139585495, 0.0, -0.17391304671764374, -0.9760000109672546, 0.1428571492433548, -0.995199978351593, -0.8899999856948853, -1.0, -0.7833333611488342, -0.6584826111793518, 0.33631739020347595, -0.4000000059604645, -0.5, -0.375, -0.8294532895088196, -0.2681185305118561, -0.5193970203399658, -0.5086854696273804], [0.3860635757446289, 0.8365041017532349, -0.10480684041976929, 0.0, 0.9950041770935059, 0.0998334139585495, -1.0, 0.32608696818351746, -0.9760000109672546, 0.1428571492433548, -0.995199978351593, -0.8899999856948853, -1.0, -0.7833333611488342, 0.0, 0.5311869382858276, -0.4000000059604645, -0.5, -0.375, -0.8294532895088196, -0.2681185305118561, -0.5193970203399658, -0.5086854696273804], [-0.3685005009174347, 0.36405450105667114, 0.40643784403800964, -1.0, 0.0, 0.0, 0.0, -0.021739130839705467, -0.9760000109672546, 0.1428571492433548, -0.995199978351593, -0.8899999856948853, -1.0, -0.7833333611488342, -0.2276521772146225, 0.2276521772146225, -0.4000000059604645, -0.5, -0.375, -0.8294532895088196, -0.2681185305118561, -0.5193970203399658, -0.5086854696273804], [-0.5461248755455017, 0.49179351329803467, 0.4189750850200653, 0.0, 0.9950041770935059, 0.0998334139585495, 0.0, -0.21739129722118378, -0.9760000109672546, 0.1428571492433548, -0.995199978351593, -0.8899999856948853, -1.0, -0.7833333611488342, -0.6584826111793518, 0.33631739020347595, -0.4000000059604645, -0.5, -0.375, -0.8294532895088196, -0.2681185305118561, -0.5193970203399658, -0.5086854696273804], [-0.8266550898551941, 0.8477504253387451, -0.20017987489700317, 0.0, 0.9950041770935059, 0.0998334139585495, -1.0, 0.32608696818351746, -0.9760000109672546, 0.1428571492433548, -0.995199978351593, -0.8899999856948853, -1.0, -0.7833333611488342, 0.0, 0.5311869382858276, -0.4000000059604645, -0.5, -0.375, -0.8294532895088196, -0.2681185305118561, -0.5193970203399658, -0.5086854696273804], [0.5701761245727539, -0.38500452041625977, 0.40643784403800964, 1.0, 0.0, 0.0, 0.0, -0.021739130839705467, -0.9760000109672546, 0.1428571492433548, -0.995199978351593, -0.8899999856948853, -1.0, -0.7833333611488342, -0.2276521772146225, 0.2276521772146225, -0.4000000059604645, -0.5, -0.375, -0.8294532895088196, -0.2681185305118561, -0.5193970203399658, -0.5086854696273804], [0.7478005290031433, -0.5127435326576233, 0.4189750850200653, 0.0, -0.9950041770935059, 0.0998334139585495, 0.0, 0.17391304671764374, -0.9760000109672546, 0.1428571492433548, -0.995199978351593, -0.8899999856948853, -1.0, -0.7833333611488342, -0.33631739020347595, 0.6584826111793518, -0.4000000059604645, -0.5, -0.375, -0.8294532895088196, -0.2681185305118561, -0.5193970203399658, -0.5086854696273804], [0.3860635757446289, -0.8574541211128235, -0.10480684041976929, 0.0, -0.9950041770935059, 0.0998334139585495, -1.0, -0.32608696818351746, -0.9760000109672546, 0.1428571492433548, -0.995199978351593, -0.8899999856948853, -1.0, -0.7833333611488342, -0.5311869382858276, 0.0, -0.4000000059604645, -0.5, -0.375, -0.8294532895088196, -0.2681185305118561, -0.5193970203399658, -0.5086854696273804], [-0.3685005009174347, -0.38500452041625977, 0.40643784403800964, -1.0, 0.0, 0.0, 0.0, 0.021739130839705467, -0.9760000109672546, 0.1428571492433548, -0.995199978351593, -0.8899999856948853, -1.0, -0.7833333611488342, -0.2276521772146225, 0.2276521772146225, -0.4000000059604645, -0.5, -0.375, -0.8294532895088196, -0.2681185305118561, -0.5193970203399658, -0.5086854696273804], [-0.5455783605575562, -0.5127435326576233, 0.4189750850200653, 0.0, -0.9950041770935059, 0.0998334139585495, 0.0, 0.21739129722118378, -0.9760000109672546, 0.1428571492433548, -0.995199978351593, -0.8899999856948853, -1.0, -0.7833333611488342, -0.33631739020347595, 0.6584826111793518, -0.4000000059604645, -0.5, -0.375, -0.8294532895088196, -0.2681185305118561, -0.5193970203399658, -0.5086854696273804], [-0.8261085748672485, -0.8672512173652649, -0.20032210648059845, 0.0, -0.9950041770935059, 0.0998334139585495, -1.0, -0.32608696818351746, -0.9760000109672546, 0.1428571492433548, -0.995199978351593, -0.8899999856948853, -1.0, -0.7833333611488342, -0.5311869382858276, 0.0, -0.4000000059604645, -0.5, -0.375, -0.8294532895088196, -0.2681185305118561, -0.5193970203399658, -0.5086854696273804]] ,
			[12, 23]
		);
		this.dynamic_foot_description = tf.tensor2d(
			[[0.6964561939239502, 0.9168895483016968, -0.8884419798851013, -0.4000000059604645, -0.5, -0.375, -0.8294532895088196, -0.2681185305118561, -0.5193970203399658, -0.5086854696273804], [-0.41741350293159485, 0.9171586036682129, -0.8767940402030945, -0.4000000059604645, -0.5, -0.375, -0.8294532895088196, -0.2681185305118561, -0.5193970203399658, -0.5086854696273804], [0.6964561939239502, -0.9378252029418945, -0.8884434103965759, -0.4000000059604645, -0.5, -0.375, -0.8294532895088196, -0.2681185305118561, -0.5193970203399658, -0.5086854696273804], [-0.4168669581413269, -0.9366450309753418, -0.8769376873970032, -0.4000000059604645, -0.5, -0.375, -0.8294532895088196, -0.2681185305118561, -0.5193970203399658, -0.5086854696273804]] ,
			[4, 10]
		);
		this.general_policy_state_second_part = new Float32Array(
			[-0.4000000059604645, -0.5, -0.375, -0.8294532895088196, -0.2681185305118561, -0.5193970203399658, -0.5086854696273804] ,
		);
		this.p_gain = 30.0;
		this.d_gain = 0.5;
		this.scaling_factor = 0.25;
		this.joint_mask_qpos = new Float32Array([7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18])
		this.joint_mask_qvel = new Float32Array([6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17])
		this.foot_indices = [9, 15, 19, 25];
		this.foot_contact_threshold = 0.02;
	}
}

class MABSilverBadger extends RobotActionHandler {
	constructor() {
		super();
		this.dynamic_joint_description = tf.tensor2d(
			[[-0.17423412203788757, -0.12468865513801575, 0.4003084897994995, -0.0023886042181402445, -0.9999971389770508, -1.4766150541883905e-12, 1.0, 0.0, -0.9039999842643738, -0.8199999928474426, -0.9800000190734863, -0.8687800168991089, -1.0, -0.20000000298023224, -0.17065218091011047, 0.17065218091011047, -0.6000000238418579, -0.5, -0.375, -0.8456470370292664, -0.22385241091251373, -0.5897715091705322, -0.4781101942062378], [-0.45099812746047974, 0.37628501653671265, 0.40030959248542786, -0.9999987483024597, 0.0015924033941701055, 2.653588126122486e-06, 0.0, -0.021739130839705467, -0.9679999947547913, 0.4285714328289032, -0.9800000190734863, -0.8687800168991089, -1.0, -0.20000000298023224, -0.34130436182022095, 0.34130436182022095, -0.6000000238418579, -0.5, -0.375, -0.8456470370292664, -0.22385241091251373, -0.5897715091705322, -0.4781101942062378], [-0.5939609408378601, 0.4373530149459839, 0.4050924479961395, 0.0007885109516791999, 0.995003879070282, 0.09983339160680771, 0.0, -0.21739129722118378, -0.9679999947547913, 0.4285714328289032, -0.9800000190734863, -0.8687800168991089, -1.0, -0.20000000298023224, -0.34130436182022095, 0.34130436182022095, -0.6000000238418579, -0.5, -0.375, -0.8456470370292664, -0.22385241091251373, -0.5897715091705322, -0.4781101942062378], [-0.8722266554832458, 0.802983820438385, -0.21431700885295868, 0.0007885109516791999, 0.995003879070282, 0.09983339160680771, -1.0, 0.32608696818351746, -0.9679999947547913, 0.4285714328289032, -0.9800000190734863, -0.8687800168991089, -1.0, -0.20000000298023224, 0.0, 0.550000011920929, -0.6000000238418579, -0.5, -0.375, -0.8456470370292664, -0.22385241091251373, -0.5897715091705322, -0.4781101942062378], [-0.45075523853302, -0.24776031076908112, 0.40030959248542786, -0.9999987483024597, 0.0015924033941701055, 2.653588126122486e-06, 0.0, 0.021739130839705467, -0.9679999947547913, 0.4285714328289032, -0.9800000190734863, -0.8687800168991089, -1.0, -0.20000000298023224, -0.34130436182022095, 0.34130436182022095, -0.6000000238418579, -0.5, -0.375, -0.8456470370292664, -0.22385241091251373, -0.5897715091705322, -0.4781101942062378], [-0.5938201546669006, -0.30796656012535095, 0.4050924479961395, -0.002380383899435401, -0.9950013160705566, 0.09983338415622711, 0.0, 0.21739129722118378, -0.9679999947547913, 0.4285714328289032, -0.9800000190734863, -0.8687800168991089, -1.0, -0.20000000298023224, -0.34130436182022095, 0.34130436182022095, -0.6000000238418579, -0.5, -0.375, -0.8456470370292664, -0.22385241091251373, -0.5897715091705322, -0.4781101942062378], [-0.8727021813392639, -0.6719184517860413, -0.21431481838226318, -0.002380383899435401, -0.9950013160705566, 0.09983338415622711, -1.0, -0.32608696818351746, -0.9679999947547913, 0.4285714328289032, -0.9800000190734863, -0.8687800168991089, -1.0, -0.20000000298023224, -0.550000011920929, 0.0, -0.6000000238418579, -0.5, -0.375, -0.8456470370292664, -0.22385241091251373, -0.5897715091705322, -0.4781101942062378], [0.5434129238128662, -0.24413427710533142, 0.4003084897994995, 1.0, 0.0, 0.0, 0.0, -0.021739130839705467, -0.9679999947547913, 0.4285714328289032, -0.9800000190734863, -0.8687800168991089, -1.0, -0.20000000298023224, -0.34130436182022095, 0.34130436182022095, -0.6000000238418579, -0.5, -0.375, -0.8456470370292664, -0.22385241091251373, -0.5897715091705322, -0.4781101942062378], [0.6864269375801086, -0.3047714829444885, 0.4050908088684082, 0.0007962024537846446, -0.995003879070282, 0.09983338415622711, 0.0, 0.17391304671764374, -0.9679999947547913, 0.4285714328289032, -0.9800000190734863, -0.8687800168991089, -1.0, -0.20000000298023224, -0.34130436182022095, 0.34130436182022095, -0.6000000238418579, -0.5, -0.375, -0.8456470370292664, -0.22385241091251373, -0.5897715091705322, -0.4781101942062378], [0.327487975358963, -0.6584369540214539, -0.11959126591682434, 0.0007962024537846446, -0.995003879070282, 0.09983338415622711, -1.0, -0.32608696818351746, -0.9679999947547913, 0.4285714328289032, -0.9800000190734863, -0.8687800168991089, -1.0, -0.20000000298023224, -0.550000011920929, 0.0, -0.6000000238418579, -0.5, -0.375, -0.8456470370292664, -0.22385241091251373, -0.5897715091705322, -0.4781101942062378], [0.5434129238128662, 0.37990817427635193, 0.4003084897994995, 1.0, 0.0, 0.0, 0.0, 0.021739130839705467, -0.9679999947547913, 0.4285714328289032, -0.9800000190734863, -0.8687800168991089, -1.0, -0.20000000298023224, -0.34130436182022095, 0.34130436182022095, -0.6000000238418579, -0.5, -0.375, -0.8456470370292664, -0.22385241091251373, -0.5897715091705322, -0.4781101942062378], [0.6864269375801086, 0.44054535031318665, 0.4050908088684082, 0.0007962024537846446, 0.995003879070282, 0.09983338415622711, 0.0, -0.17391304671764374, -0.9679999947547913, 0.4285714328289032, -0.9800000190734863, -0.8687800168991089, -1.0, -0.20000000298023224, -0.34130436182022095, 0.34130436182022095, -0.6000000238418579, -0.5, -0.375, -0.8456470370292664, -0.22385241091251373, -0.5897715091705322, -0.4781101942062378], [0.327487975358963, 0.7942108511924744, -0.11959126591682434, 0.0007962024537846446, 0.995003879070282, 0.09983338415622711, -1.0, 0.32608696818351746, -0.9679999947547913, 0.4285714328289032, -0.9800000190734863, -0.8687800168991089, -1.0, -0.20000000298023224, 0.0, 0.550000011920929, -0.6000000238418579, -0.5, -0.375, -0.8456470370292664, -0.22385241091251373, -0.5897715091705322, -0.4781101942062378]] ,
			[13, 23]
		);
		this.dynamic_foot_description = tf.tensor2d(
			[[-0.4890156090259552, 0.8937023878097534, -0.7222426533699036, -0.6000000238418579, -0.5, -0.375, -0.8456470370292664, -0.22385241091251373, -0.5897715091705322, -0.4781101942062378], [-0.48964765667915344, -0.7649461030960083, -0.7222434878349304, -0.6000000238418579, -0.5, -0.375, -0.8456470370292664, -0.22385241091251373, -0.5897715091705322, -0.4781101942062378], [0.6345303654670715, -0.7623556852340698, -0.7300696969032288, -0.6000000238418579, -0.5, -0.375, -0.8456470370292664, -0.22385241091251373, -0.5897715091705322, -0.4781101942062378], [0.6345303654670715, 0.8981295228004456, -0.7300696969032288, -0.6000000238418579, -0.5, -0.375, -0.8456470370292664, -0.22385241091251373, -0.5897715091705322, -0.4781101942062378]] ,
			[4, 10]
		);
		this.general_policy_state_second_part = new Float32Array(
			[-0.6000000238418579, -0.5, -0.375, -0.8456470370292664, -0.22385241091251373, -0.5897715091705322, -0.4781101942062378] ,
		);
		this.p_gain = 20.0;
		this.d_gain = 0.5;
		this.scaling_factor = 0.25;
		this.joint_mask_qpos = new Float32Array([7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19])
		this.joint_mask_qvel = new Float32Array([6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18])
		this.foot_indices = [14, 22, 30, 38];
		this.foot_contact_threshold = 0.02;
	}
}

class PetoiBittle extends RobotActionHandler {
	constructor() {
		super();
		this.dynamic_joint_description = tf.tensor2d(
			[[-0.4237139821052551, 0.7876254916191101, 0.5038725733757019, 3.999999989900971e-06, 1.0, 8.000045070843953e-12, 0.0, 0.1304347813129425, -0.9994115829467773, -0.14514285326004028, -0.9940000176429749, -0.9700000286102295, -1.0, -0.9999666810035706, -0.34147825837135315, 0.2655934691429138, -0.5, -0.5, 0.5, -0.9976470470428467, -0.8338342308998108, -0.882271945476532, -0.8826087713241577], [-0.7578915953636169, 0.7876273393630981, -0.18755082786083221, 3.999999989900971e-06, 1.0, 8.000045070843953e-12, -1.0, 0.10869564861059189, -0.9994115829467773, -0.14514285326004028, -0.9940000176429749, -0.9700000286102295, -1.0, -0.9999666810035706, -0.32250651717185974, 0.2655934691429138, -0.5, -0.5, 0.5, -0.9976470470428467, -0.8338342308998108, -0.882271945476532, -0.8826087713241577], [0.8302990198135376, 0.7876254916191101, 0.5038725733757019, 3.999999989900971e-06, 1.0, 8.000045070843953e-12, 0.0, 0.1304347813129425, -0.9994115829467773, -0.14514285326004028, -0.9940000176429749, -0.9700000286102295, -1.0, -0.9999666810035706, -0.34147825837135315, 0.2655934691429138, -0.5, -0.5, 0.5, -0.9976470470428467, -0.8338342308998108, -0.882271945476532, -0.8826087713241577], [0.496061772108078, 0.7876273393630981, -0.18749310076236725, 3.999999989900971e-06, 1.0, 8.000045070843953e-12, -1.0, 0.10869564861059189, -0.9994115829467773, -0.14514285326004028, -0.9940000176429749, -0.9700000286102295, -1.0, -0.9999666810035706, -0.32250651717185974, 0.2655934691429138, -0.5, -0.5, 0.5, -0.9976470470428467, -0.8338342308998108, -0.882271945476532, -0.8826087713241577], [-0.4237139821052551, -0.7369898557662964, 0.5038725733757019, -3.999999989900971e-06, -1.0, 8.000045070843953e-12, 0.0, -0.1304347813129425, -0.9994115829467773, -0.14514285326004028, -0.9940000176429749, -0.9700000286102295, -1.0, -0.9999666810035706, -0.2655934691429138, 0.34147825837135315, -0.5, -0.5, 0.5, -0.9976470470428467, -0.8338342308998108, -0.882271945476532, -0.8826087713241577], [-0.7629525661468506, -0.8048731684684753, -0.19846224784851074, -2.501667268006713e-06, -1.0, 2.190095983678475e-06, -1.0, -0.10869564861059189, -0.9994115829467773, -0.14514285326004028, -0.9940000176429749, -0.9700000286102295, -1.0, -0.9999666810035706, -0.2655934691429138, 0.32250651717185974, -0.5, -0.5, 0.5, -0.9976470470428467, -0.8338342308998108, -0.882271945476532, -0.8826087713241577], [0.8302990198135376, -0.7369898557662964, 0.5038725733757019, -3.999999989900971e-06, -1.0, 8.000045070843953e-12, 0.0, -0.1304347813129425, -0.9994115829467773, -0.14514285326004028, -0.9940000176429749, -0.9700000286102295, -1.0, -0.9999666810035706, -0.2655934691429138, 0.34147825837135315, -0.5, -0.5, 0.5, -0.9976470470428467, -0.8338342308998108, -0.882271945476532, -0.8826087713241577], [0.49097099900245667, -0.8048731684684753, -0.1983756721019745, -2.501667268006713e-06, -1.0, 2.190095983678475e-06, -1.0, -0.10869564861059189, -0.9994115829467773, -0.14514285326004028, -0.9940000176429749, -0.9700000286102295, -1.0, -0.9999666810035706, -0.2655934691429138, 0.32250651717185974, -0.5, -0.5, 0.5, -0.9976470470428467, -0.8338342308998108, -0.882271945476532, -0.8826087713241577]] ,
			[8, 23]
		);
		this.dynamic_foot_description = tf.tensor2d(
			[[-0.6775357127189636, 0.573785126209259, -0.43202561140060425, -0.5, -0.5, 0.5, -0.9976470470428467, -0.8338342308998108, -0.882271945476532, -0.8826087713241577], [0.5776951909065247, 0.5741928219795227, -0.43552082777023315, -0.5, -0.5, 0.5, -0.9976470470428467, -0.8338342308998108, -0.882271945476532, -0.8826087713241577], [-0.6736658811569214, -0.5993319153785706, -0.42708101868629456, -0.5, -0.5, 0.5, -0.9976470470428467, -0.8338342308998108, -0.882271945476532, -0.8826087713241577], [0.5861048698425293, -0.5993319749832153, -0.44325605034828186, -0.5, -0.5, 0.5, -0.9976470470428467, -0.8338342308998108, -0.882271945476532, -0.8826087713241577]] ,
			[4, 10]
		);
		this.general_policy_state_second_part = new Float32Array(
			[-0.5, -0.5, 0.5, -0.9976470470428467, -0.8338342308998108, -0.882271945476532, -0.8826087713241577] ,
		);
		this.p_gain = 25.0;
		this.d_gain = 0.5;
		this.scaling_factor = 0.6;
		this.joint_mask_qpos = new Float32Array([7, 8, 9, 10, 11, 12, 13, 14])
		this.joint_mask_qvel = new Float32Array([6, 7, 8, 9, 10, 11, 12, 13])
		this.foot_indices = [9, 13, 17, 21];
		this.foot_contact_threshold = 0.013;
	}
}

class Hexapod extends RobotActionHandler {
	constructor() {
		super();
		this.dynamic_joint_description = tf.tensor2d(
			[[0.21542927622795105, 0.2156653106212616, 0.25213730335235596, 0.0, 0.0, 1.0, 0.0, -0.15217390656471252, -0.9960773587226868, -0.9002668857574463, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.5122151970863342, 0.5122151970863342, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [0.5120292901992798, 0.3120349943637848, 0.13544519245624542, 0.7648422122001648, -0.6442176699638367, 4.440892098500626e-16, 0.0, 0.1304347813129425, -0.9960773587226868, -0.9002668857574463, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.5122151970863342, 0.5122151970863342, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [0.8932920098304749, 0.5733888149261475, 0.7679826617240906, 0.7648422122001648, -0.6442176699638367, 7.771561172376096e-16, -1.0, -0.43478259444236755, -0.9960773587226868, -0.9002668857574463, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.5122151970863342, 0.5122151970863342, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [0.21542927622795105, -0.2013755738735199, 0.25213730335235596, 0.0, 0.0, 1.0, 0.0, 0.15217390656471252, -0.9960773587226868, -0.9002668857574463, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.5122151970863342, 0.5122151970863342, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [0.5120292901992798, -0.2977452576160431, 0.13544519245624542, 0.7648422122001648, 0.6442176699638367, 4.440892098500626e-16, 0.0, -0.1304347813129425, -0.9960773587226868, -0.9002668857574463, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.5122151970863342, 0.5122151970863342, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [0.8932920098304749, -0.5590990781784058, 0.7679826617240906, 0.7648422122001648, 0.6442176699638367, 7.771561172376096e-16, -1.0, 0.43478259444236755, -0.9960773587226868, -0.9002668857574463, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.5122151970863342, 0.5122151970863342, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [-0.1529238522052765, 0.27678337693214417, 0.25213730335235596, 0.0, 0.0, 1.0, 0.0, 0.0, -0.9960773587226868, -0.9002668857574463, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.5122151970863342, 0.5122151970863342, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [-0.005582602694630623, 0.49968451261520386, 0.13544519245624542, 1.0, 0.0, 4.440892098500626e-16, 0.0, 0.1304347813129425, -0.9960773587226868, -0.9002668857574463, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.5122151970863342, 0.5122151970863342, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [0.0703902319073677, 0.8913589119911194, 0.7679826617240906, 1.0, 0.0, 6.661338147750939e-16, -1.0, -0.43478259444236755, -0.9960773587226868, -0.9002668857574463, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.5122151970863342, 0.5122151970863342, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [-0.1529238522052765, -0.26249364018440247, 0.25213730335235596, 0.0, 0.0, 1.0, 0.0, 0.0, -0.9960773587226868, -0.9002668857574463, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.5122151970863342, 0.5122151970863342, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [-0.005582602694630623, -0.48539477586746216, 0.13544519245624542, 1.0, 0.0, 4.440892098500626e-16, 0.0, -0.1304347813129425, -0.9960773587226868, -0.9002668857574463, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.5122151970863342, 0.5122151970863342, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [0.0703902319073677, -0.8770691752433777, 0.7679826617240906, 1.0, 0.0, 6.661338147750939e-16, -1.0, 0.43478259444236755, -0.9960773587226868, -0.9002668857574463, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.5122151970863342, 0.5122151970863342, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [-0.5212770104408264, 0.2156653106212616, 0.25213730335235596, 0.0, 0.0, 1.0, 0.0, 0.15217390656471252, -0.9960773587226868, -0.9002668857574463, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.5122151970863342, 0.5122151970863342, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [-0.5924913883209229, 0.46026402711868286, 0.13544519245624542, 0.7648422122001648, 0.6442176699638367, 4.440892098500626e-16, 0.0, 0.1304347813129425, -0.9960773587226868, -0.9002668857574463, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.5122151970863342, 0.5122151970863342, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [-0.8575396537780762, 0.7980483770370483, 0.7679826617240906, 0.7648422122001648, 0.6442176699638367, 8.881784197001252e-16, -1.0, -0.43478259444236755, -0.9960773587226868, -0.9002668857574463, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.5122151970863342, 0.5122151970863342, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [-0.5212770104408264, -0.2013755738735199, 0.25213730335235596, 0.0, 0.0, 1.0, 0.0, -0.15217390656471252, -0.9960773587226868, -0.9002668857574463, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.5122151970863342, 0.5122151970863342, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [-0.5924913883209229, -0.44597429037094116, 0.13544519245624542, 0.7648422122001648, -0.6442176699638367, 4.440892098500626e-16, 0.0, -0.1304347813129425, -0.9960773587226868, -0.9002668857574463, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.5122151970863342, 0.5122151970863342, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [-0.8575396537780762, -0.7837586402893066, 0.7679826617240906, 0.7648422122001648, -0.6442176699638367, 8.881784197001252e-16, -1.0, 0.43478259444236755, -0.9960773587226868, -0.9002668857574463, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.5122151970863342, 0.5122151970863342, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381]] ,
			[18, 23]
		);
		this.dynamic_foot_description = tf.tensor2d(
			[[0.919510543346405, 0.5935081839561462, 4.440892098500626e-16, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [0.919510543346405, -0.5792184472084045, -1.0158690555428507e-09, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [0.07384353876113892, 0.9199353456497192, 2.220446049250313e-16, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [0.07384353876113892, -0.9056456089019775, -1.0158691665651531e-09, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [-0.8784757256507874, 0.8216419219970703, 4.440892098500626e-16, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381], [-0.8784757256507874, -0.8073521852493286, -1.0158690555428507e-09, -0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381]] ,
			[6, 10]
		);
		this.general_policy_state_second_part = new Float32Array(
			[-0.4000000059604645, -0.5, 0.5, -0.9772473573684692, -0.5656341910362244, -0.4436996281147003, -0.7643371224403381] ,
		);
		this.p_gain = 30.0;
		this.d_gain = 0.5;
		this.scaling_factor = 0.6;
		this.joint_mask_qpos = new Float32Array([7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24])
		this.joint_mask_qvel = new Float32Array([6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23])
		this.foot_indices = [24, 34, 44, 54, 64, 74];
		this.foot_contact_threshold = 0.11729;
	}
}

class UnitreeH1 extends RobotActionHandler {
	constructor() {
		super();
		this.dynamic_joint_description = tf.tensor2d(
			[[-0.4498107433319092, 0.21144957840442657, -0.07095636427402496, 0.0, 0.0, -1.0, 0.0, 0.0, -0.6000000238418579, 0.3142857253551483, -0.800000011920929, 0.0, -1.0, -1.0, -0.093478262424469, 0.093478262424469, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698], [-0.3067997097969055, 0.21144957840442657, -0.07095636427402496, -1.0, 0.0, 0.0, 0.0, 0.0, -0.6000000238418579, 0.3142857253551483, -0.800000011920929, 0.0, -1.0, -1.0, -0.093478262424469, 0.093478262424469, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698], [-0.3067997097969055, 0.4902247190475464, -0.07095636427402496, 0.0, 1.0, 0.0, 0.0, -0.08695652335882187, -0.6000000238418579, 0.3142857253551483, -0.800000011920929, 0.0, -1.0, -1.0, -0.34130436182022095, 0.34130436182022095, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698], [0.2576181888580322, 0.4902247190475464, -0.48692870140075684, 0.0, 1.0, 0.0, 0.0, 0.17391304671764374, -0.4000000059604645, -0.20000000298023224, -0.800000011920929, 0.0, -1.0, -1.0, -0.056521739810705185, 0.44565218687057495, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698], [-0.3067997097969055, 0.4902247190475464, -0.9029010534286499, 0.0, 1.0, 0.0, -1.0, -0.08695652335882187, -0.9200000166893005, -0.48571428656578064, -0.800000011920929, 0.0, -1.0, -1.0, -0.18913044035434723, 0.11304347962141037, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698], [-0.4498107433319092, -0.21144957840442657, -0.07095636427402496, 0.0, 0.0, -1.0, 0.0, 0.0, -0.6000000238418579, 0.3142857253551483, -0.800000011920929, 0.0, -1.0, -1.0, -0.093478262424469, 0.093478262424469, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698], [-0.3067997097969055, -0.21144957840442657, -0.07095636427402496, -1.0, 0.0, 0.0, 0.0, 0.0, -0.6000000238418579, 0.3142857253551483, -0.800000011920929, 0.0, -1.0, -1.0, -0.093478262424469, 0.093478262424469, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698], [-0.3067997097969055, -0.4902247190475464, -0.07095636427402496, 0.0, -1.0, 0.0, 0.0, 0.08695652335882187, -0.6000000238418579, 0.3142857253551483, -0.800000011920929, 0.0, -1.0, -1.0, -0.34130436182022095, 0.34130436182022095, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698], [0.2576181888580322, -0.4902247190475464, -0.48692870140075684, 0.0, -1.0, 0.0, 0.0, -0.17391304671764374, -0.4000000059604645, -0.20000000298023224, -0.800000011920929, 0.0, -1.0, -1.0, -0.44565218687057495, 0.056521739810705185, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698], [-0.3067997097969055, -0.4902247190475464, -0.9029010534286499, 0.0, -1.0, 0.0, -1.0, 0.08695652335882187, -0.9200000166893005, -0.48571428656578064, -0.800000011920929, 0.0, -1.0, -1.0, -0.11304347962141037, 0.18913044035434723, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698], [-0.4498107433319092, 0.0, 0.12572546303272247, 0.0, 0.0, 1.0, 1.0, 0.0, -0.6000000238418579, 0.3142857253551483, -0.800000011920929, 0.0, -1.0, -1.0, -0.510869562625885, 0.510869562625885, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698], [-0.42988166213035583, 0.3754136264324188, 0.6112089157104492, 0.0, 0.9063091278076172, 0.4226154088973999, 0.0, 0.0, -0.9200000166893005, -0.48571428656578064, -0.800000011920929, 0.0, -1.0, -1.0, -0.623913049697876, 0.623913049697876, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698], [-0.4498107433319092, 0.5160085558891296, 0.6212842464447021, -1.0, 0.0, 0.0, 0.0, 0.0, -0.9200000166893005, -0.48571428656578064, -0.800000011920929, 0.0, -1.0, -1.0, -0.676086962223053, 0.07391304522752762, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698], [-0.4498107433319092, 0.5160085558891296, 0.46965181827545166, 0.0, 0.0, 1.0, 0.0, 0.0, -0.9639999866485596, 0.1428571492433548, -0.800000011920929, 0.0, -1.0, -1.0, -0.28260868787765503, 0.967391312122345, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698], [-0.3827765882015228, 0.5160085558891296, 0.24609842896461487, 0.0, 1.0, 0.0, -1.0, 0.0, -0.9639999866485596, 0.1428571492433548, -0.800000011920929, 0.0, -1.0, -1.0, -0.27173912525177, 0.5673912763595581, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698], [-0.42988166213035583, -0.3754136264324188, 0.6112089157104492, 0.0, -0.9063091278076172, 0.4226154088973999, 0.0, 0.0, -0.9200000166893005, -0.48571428656578064, -0.800000011920929, 0.0, -1.0, -1.0, -0.623913049697876, 0.623913049697876, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698], [-0.4498107433319092, -0.5160085558891296, 0.6212842464447021, -1.0, 0.0, 0.0, 0.0, 0.0, -0.9200000166893005, -0.48571428656578064, -0.800000011920929, 0.0, -1.0, -1.0, -0.07391304522752762, 0.676086962223053, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698], [-0.4498107433319092, -0.5160085558891296, 0.46965181827545166, 0.0, 0.0, 1.0, 0.0, 0.0, -0.9639999866485596, 0.1428571492433548, -0.800000011920929, 0.0, -1.0, -1.0, -0.967391312122345, 0.28260868787765503, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698], [-0.3827765882015228, -0.5160085558891296, 0.24609842896461487, 0.0, -1.0, 0.0, -1.0, 0.0, -0.9639999866485596, 0.1428571492433548, -0.800000011920929, 0.0, -1.0, -1.0, -0.5673912763595581, 0.27173912525177, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698]] ,
			[19, 23]
		);
		this.dynamic_foot_description = tf.tensor2d(
			[[-0.062215644866228104, 0.4902247190475464, -0.9599184393882751, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698], [-0.062215644866228104, -0.4902247190475464, -0.9599184393882751, 0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698]] ,
			[2, 10]
		);
		this.general_policy_state_second_part = new Float32Array(
			[0.20000000298023224, 1.0, 0.875, -0.39485883712768555, -0.44804254174232483, -0.1723795384168625, 0.7713888883590698] ,
		);
		this.p_gain = 60.0;
		this.d_gain = 2.0;
		this.scaling_factor = 0.75;
		this.joint_mask_qpos = new Float32Array([7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25])
		this.joint_mask_qvel = new Float32Array([6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24])
		this.foot_indices = [[14, 15, 16], [29, 30, 31]];
		this.foot_contact_threshold = 0.02;
	}
}

class UnitreeG1 extends RobotActionHandler {
	constructor() {
		super();
		this.dynamic_joint_description = tf.tensor2d(
			[[-0.3474084734916687, 0.24219542741775513, 0.012680412270128727, 0.0, 1.0, 0.0, 0.0, -0.043478261679410934, -0.8240000009536743, 0.8285714387893677, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.510869562625885, 0.6630434989929199, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [-0.3474084734916687, 0.43208399415016174, 0.012680412270128727, -0.8530104160308838, 0.0, -0.5218939185142517, 0.0, 0.0, -0.8240000009536743, 0.8285714387893677, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.550000011920929, 0.056521739810705185, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [0.22306770086288452, 0.42767661809921265, -0.13966257870197296, 0.5218939185142517, 0.0, -0.8530104160308838, 0.0, 0.0, -0.8240000009536743, 0.8285714387893677, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.5978260636329651, 0.5978260636329651, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [0.4029393196105957, 0.42138269543647766, -0.44568490982055664, 0.0, 1.0, 0.0, 0.0, 0.08695652335882187, -0.722000002861023, 0.1428571492433548, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.07280217111110687, 0.553239107131958, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [-0.3376826047897339, 0.43615517020225525, -0.893126904964447, 0.0, 1.0, 0.0, -1.0, -0.043478261679410934, -0.9200000166893005, 2.028571367263794, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.14782609045505524, 0.15869565308094025, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [-0.33768266439437866, 0.43615517020225525, -0.9211069345474243, -1.0, 0.0, 4.179112238489324e-07, -1.0, 0.0, -0.9200000166893005, 2.028571367263794, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.056913044303655624, 0.056913044303655624, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [-0.3474084734916687, -0.22580911219120026, 0.012680412270128727, 0.0, -1.0, 0.0, 0.0, 0.043478261679410934, -0.8240000009536743, 0.8285714387893677, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.6630434989929199, 0.510869562625885, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [-0.3474084734916687, -0.41569769382476807, 0.012680412270128727, -0.8530104160308838, 0.0, -0.5218939185142517, 0.0, 0.0, -0.8240000009536743, 0.8285714387893677, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.056521739810705185, 0.550000011920929, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [0.22306770086288452, -0.41129031777381897, -0.13966257870197296, 0.5218939185142517, 0.0, -0.8530104160308838, 0.0, 0.0, -0.8240000009536743, 0.8285714387893677, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.5978260636329651, 0.5978260636329651, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [0.4029393196105957, -0.404996395111084, -0.44568490982055664, 0.0, -1.0, 0.0, 0.0, -0.08695652335882187, -0.722000002861023, 0.1428571492433548, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.553239107131958, 0.07280217111110687, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [-0.3376826047897339, -0.4197688698768616, -0.893126904964447, 0.0, -1.0, 0.0, -1.0, 0.043478261679410934, -0.9200000166893005, 2.028571367263794, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.15869565308094025, 0.14782609045505524, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [-0.33768266439437866, -0.4197688698768616, -0.9211069345474243, -1.0, 0.0, 4.179112238489324e-07, -1.0, 0.0, -0.9200000166893005, 2.028571367263794, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.056913044303655624, 0.056913044303655624, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [-0.3474084734916687, 0.008193151094019413, 0.1763407438993454, 0.0, 0.0, 1.0, -1.0, 0.0, -0.8240000009536743, 0.8285714387893677, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.5691304206848145, 0.5691304206848145, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [-0.36489975452423096, 0.38564661145210266, 0.5895233154296875, 0.0, 0.9612622857093811, 0.2756352722644806, 0.0, 0.0, -0.9599999785423279, 2.028571367263794, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.6450217366218567, 0.6070652008056641, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [-0.36489975452423096, 0.567132294178009, 0.6123641133308411, -1.0, 0.0, 0.0, 0.0, -0.043478261679410934, -0.9599999785423279, 2.028571367263794, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.48945653438568115, 0.3452608585357666, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [-0.3896673917770386, 0.6637853980064392, 0.45316147804260254, 0.0, -0.19866932928562164, 0.9800665974617004, 0.0, 0.0, -0.9599999785423279, 2.028571367263794, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.5691304206848145, 0.5691304206848145, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [-0.3896673917770386, 0.732183575630188, 0.3202250003814697, 0.0, 0.9800665974617004, 0.19866932928562164, 0.0, 0.239130437374115, -0.9599999785423279, 2.028571367263794, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.04930434748530388, 0.7436521649360657, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [-0.07230830192565918, 0.7964681386947632, 0.18103522062301636, -0.4535961151123047, -0.17705556750297546, 0.873442530632019, -1.0, 0.0, -0.9599999785423279, 2.028571367263794, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.455282598733902, 0.455282598733902, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [-0.36489975452423096, -0.369260311126709, 0.5895233154296875, 0.0, -0.9612622857093811, 0.2756352722644806, 0.0, 0.0, -0.9599999785423279, 2.028571367263794, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.6070652008056641, 0.6450217366218567, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [-0.36489975452423096, -0.5507460236549377, 0.6123641133308411, -1.0, 0.0, 0.0, 0.0, 0.043478261679410934, -0.9599999785423279, 2.028571367263794, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.3452608585357666, 0.48945653438568115, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [-0.3896673917770386, -0.6473990678787231, 0.45316147804260254, 0.0, 0.19866932928562164, 0.9800665974617004, 0.0, 0.0, -0.9599999785423279, 2.028571367263794, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.5691304206848145, 0.5691304206848145, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [-0.3896673917770386, -0.7157973051071167, 0.3202250003814697, 0.0, -0.9800665974617004, 0.19866932928562164, 0.0, -0.239130437374115, -0.9599999785423279, 2.028571367263794, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.7436521649360657, 0.04930434748530388, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [-0.07230830192565918, -0.7800818681716919, 0.18103522062301636, -0.4535961151123047, 0.17705556750297546, 0.873442530632019, -1.0, 0.0, -0.9599999785423279, 2.028571367263794, -0.8999999761581421, -0.8999999761581421, -1.0, -0.8333333134651184, -0.455282598733902, 0.455282598733902, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616]] ,
			[23, 23]
		);
		this.dynamic_foot_description = tf.tensor2d(
			[[-0.7574734687805176, 0.5087702870368958, -0.9689142107963562, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616], [-0.7574734687805176, -0.3471537232398987, -0.9689142107963562, -0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616]] ,
			[2, 10]
		);
		this.general_policy_state_second_part = new Float32Array(
			[-0.10000000149011612, 0.0, 0.25, -0.6207185983657837, -0.7141432762145996, -0.4491506516933441, 0.25503841042518616] ,
		);
		this.p_gain = 45.0;
		this.d_gain = 1.0;
		this.scaling_factor = 0.5;
		this.joint_mask_qpos = new Float32Array([7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 32, 33, 34, 35, 36])
		this.joint_mask_qvel = new Float32Array([6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 31, 32, 33, 34, 35])
		this.foot_indices = [14, 29];
		this.foot_contact_threshold = 0.0156;
	}
}

class PALRoboticsTalos extends RobotActionHandler {
	constructor() {
		super();
		this.dynamic_joint_description = tf.tensor2d(
			[[-0.056991495192050934, -1.127986593019159e-13, 0.3401513993740082, 0.0, 0.0, 1.0, 1.0, 0.0, -0.6000000238418579, -0.691428542137146, -0.800000011920929, 0.5, -1.0, 0.6666666865348816, -0.27318260073661804, 0.27318260073661804, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [-0.056991495192050934, -1.127986593019159e-13, 0.3401513993740082, 0.0, -1.0, 0.0, 1.0, 0.0, -0.6000000238418579, -0.691428542137146, -0.800000011920929, 0.5, -1.0, 0.6666666865348816, -0.15935608744621277, 0.04932456463575363, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [-0.056991495192050934, 0.285362184047699, 0.6221355199813843, 0.0, 0.0, 1.0, 0.0, 0.0, -0.800000011920929, -0.845714271068573, -0.800000011920929, 0.5, -1.0, 0.6666666865348816, -0.34147825837135315, 0.17073869705200195, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [-0.03576706722378731, 0.532676100730896, 0.6789334416389465, -1.0, 0.0, 0.0, 0.0, -0.06521739065647125, -0.800000011920929, -0.7908571362495422, -0.800000011920929, 0.5, -1.0, 0.6666666865348816, -0.6241456270217896, -0.001897097798064351, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [-0.03576706722378731, 0.532676100730896, 0.6789334416389465, 0.0, -0.29552021622657776, 0.9553365111351013, 0.0, 0.0, -0.8600000143051147, -0.7382857203483582, -0.800000011920929, 0.5, -1.0, 0.6666666865348816, -0.5273934602737427, 0.5273934602737427, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [0.0503360889852047, 0.6788485646247864, 0.3619360625743866, 0.0, 0.9553365111351013, 0.29552021622657776, 0.0, 0.0, -0.8600000143051147, -0.7382857203483582, -0.800000011920929, 0.5, -1.0, 0.6666666865348816, -0.4856565296649933, 0.0007588391308672726, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [-0.03576706722378731, 0.8203628659248352, 0.05504079535603523, 0.0, -0.29552021622657776, 0.9553365111351013, 0.0, 0.0, -0.9599999785423279, -0.8885714411735535, -0.800000011920929, 0.5, -1.0, 0.6666666865348816, -0.5463630557060242, 0.5463630557060242, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [-0.03576706722378731, 0.8203628659248352, 0.05504079535603523, -1.0, 0.0, 0.0, -1.0, 0.06521739065647125, -0.984000027179718, -0.8994285464286804, -0.800000011920929, 0.5, -1.0, 0.6666666865348816, -0.29784348607063293, 0.29784348607063293, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [-0.056991495192050934, -0.285362184047699, 0.6221355199813843, 0.0, 0.0, 1.0, 0.0, 0.0, -0.800000011920929, -0.845714271068573, -0.800000011920929, 0.5, -1.0, 0.6666666865348816, -0.17073869705200195, 0.34147825837135315, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [-0.03576706722378731, -0.532676100730896, 0.6789334416389465, -1.0, 0.0, 0.0, 0.0, 0.06521739065647125, -0.800000011920929, -0.7908571362495422, -0.800000011920929, 0.5, -1.0, 0.6666666865348816, 0.001897097798064351, 0.6241456270217896, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [-0.03576706722378731, -0.532676100730896, 0.6789334416389465, 0.0, 0.29552021622657776, 0.9553365111351013, 0.0, 0.0, -0.8600000143051147, -0.7382857203483582, -0.800000011920929, 0.5, -1.0, 0.6666666865348816, -0.5273934602737427, 0.5273934602737427, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [0.0503360889852047, -0.6788485646247864, 0.3619360625743866, 0.0, -0.9553365111351013, 0.29552021622657776, 0.0, 0.0, -0.8600000143051147, -0.7382857203483582, -0.800000011920929, 0.5, -1.0, 0.6666666865348816, -0.0007588391308672726, 0.4856565296649933, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [-0.03576706722378731, -0.8203628659248352, 0.05504079535603523, 0.0, 0.29552021622657776, 0.9553365111351013, 0.0, 0.0, -0.9599999785423279, -0.8885714411735535, -0.800000011920929, 0.5, -1.0, 0.6666666865348816, -0.5463630557060242, 0.5463630557060242, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [-0.03576706722378731, -0.8203628659248352, 0.05504079535603523, -1.0, 0.0, 0.0, -1.0, -0.06521739065647125, -0.984000027179718, -0.8994285464286804, -0.800000011920929, 0.5, -1.0, 0.6666666865348816, -0.29784348607063293, 0.29784348607063293, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [-0.14309465885162354, 0.1540049910545349, -0.07705138623714447, 0.0, 0.0, -1.0, 0.0, 0.0, -0.800000011920929, -0.7788571715354919, -1.0, 0.5, -1.0, -1.0, -0.34147825837135315, 0.0758839100599289, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [-0.14309465885162354, 0.1540049910545349, -0.07705138623714447, -1.0, 0.0, 0.0, 0.0, 0.0, -0.6800000071525574, -0.668571412563324, -1.0, 0.5, -1.0, -1.0, -0.11382608860731125, 0.11382608860731125, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [-0.14309465885162354, 0.1540049910545349, -0.07705138623714447, 0.0, 1.0, 0.0, 0.0, -0.08695652335882187, -0.6800000071525574, -0.668571412563324, -1.0, 0.5, -1.0, -1.0, -0.45543476939201355, 0.15217390656471252, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [0.4939781725406647, 0.1540049910545349, -0.5024623274803162, 0.0, 1.0, 0.0, 0.0, 0.17391304671764374, -0.20000000298023224, -0.6000000238418579, -1.0, 0.5, -1.0, -1.0, 0.0, 0.5691304206848145, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [-0.050886742770671844, 0.1540049910545349, -0.866300642490387, 0.0, 1.0, 0.0, -1.0, -0.08695652335882187, -0.6800000071525574, -0.668571412563324, -1.0, 0.5, -1.0, -1.0, -0.2760869562625885, 0.14782609045505524, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [-0.14309465885162354, -0.1540049910545349, -0.07705138623714447, 0.0, 0.0, -1.0, 0.0, 0.0, -0.800000011920929, -0.7788571715354919, -1.0, 0.5, -1.0, -1.0, -0.0758839100599289, 0.34147825837135315, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [-0.14309465885162354, -0.1540049910545349, -0.07705138623714447, -1.0, 0.0, 0.0, 0.0, 0.0, -0.6800000071525574, -0.668571412563324, -1.0, 0.5, -1.0, -1.0, -0.11382608860731125, 0.11382608860731125, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [-0.14309465885162354, -0.1540049910545349, -0.07705138623714447, 0.0, -1.0, 0.0, 0.0, 0.08695652335882187, -0.6800000071525574, -0.668571412563324, -1.0, 0.5, -1.0, -1.0, -0.15217390656471252, 0.45543476939201355, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [0.4939781725406647, -0.1540049910545349, -0.5024623274803162, 0.0, -1.0, 0.0, 0.0, -0.17391304671764374, -0.20000000298023224, -0.6000000238418579, -1.0, 0.5, -1.0, -1.0, -0.5691304206848145, 0.0, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [-0.050886742770671844, -0.1540049910545349, -0.866300642490387, 0.0, -1.0, 0.0, -1.0, 0.08695652335882187, -0.6800000071525574, -0.668571412563324, -1.0, 0.5, -1.0, -1.0, -0.14782609045505524, 0.2760869562625885, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496]] ,
			[24, 23]
		);
		this.dynamic_foot_description = tf.tensor2d(
			[[-0.050886742770671844, 0.1540049910545349, -0.9878455400466919, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496], [-0.050886742770671844, -0.1540049910545349, -0.9878455400466919, 0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496]] ,
			[2, 10]
		);
		this.general_policy_state_second_part = new Float32Array(
			[0.6000000238418579, 1.0, 0.875, 0.09806696325540543, -0.535440981388092, 0.10386033356189728, 0.6454827189445496] ,
		);
		this.p_gain = 80.0;
		this.d_gain = 2.0;
		this.scaling_factor = 0.75;
		this.joint_mask_qpos = new Float32Array([7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30])
		this.joint_mask_qvel = new Float32Array([6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29])
		this.foot_indices = [92, 104];
		this.foot_contact_threshold = 0.1;
	}
}

class RobotisOP3 extends RobotActionHandler {
	constructor() {
		super();
		this.dynamic_joint_description = tf.tensor2d(
			[[0.11517655849456787, 0.021272758021950722, 0.5782361030578613, 0.0, 0.0, 1.0, -1.0, 0.0, -0.9918000102043152, -0.7247428297996521, -0.7832000255584717, -0.550000011920929, -1.0, -0.949999988079071, -0.6829547882080078, 0.6829547882080078, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475], [0.19708074629306793, 0.15904751420021057, 0.6849215030670166, 0.0, -1.0, 0.0, -1.0, 0.0, -0.9918000102043152, -0.7247428297996521, -0.7832000255584717, -0.550000011920929, -1.0, -0.949999988079071, -0.6829547882080078, 0.6829547882080078, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475], [0.11517655849456787, 0.4563509225845337, 0.4827807545661926, 0.0, 1.0, 0.0, 0.0, 0.0, -0.9918000102043152, -0.7247428297996521, -0.7832000255584717, -0.550000011920929, -1.0, -0.949999988079071, -0.6829547882080078, 0.6829547882080078, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475], [0.27079451084136963, 0.6630130410194397, 0.44534727931022644, -1.0, 0.0, 0.0, 0.0, 0.27173912525177, -0.9918000102043152, -0.7247428297996521, -0.7832000255584717, -0.550000011920929, -1.0, -0.949999988079071, -0.6829547882080078, 0.6829547882080078, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475], [0.27079451084136963, 0.8690243363380432, 0.12409420311450958, -1.0, 0.0, 0.0, -1.0, 0.06826087087392807, -0.9918000102043152, -0.7247428297996521, -0.7832000255584717, -0.550000011920929, -1.0, -0.949999988079071, -0.6829547882080078, 0.6829547882080078, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475], [0.11517655849456787, -0.41380539536476135, 0.4827807545661926, 0.0, -1.0, 0.0, 0.0, 0.0, -0.9918000102043152, -0.7247428297996521, -0.7832000255584717, -0.550000011920929, -1.0, -0.949999988079071, -0.6829547882080078, 0.6829547882080078, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475], [0.27079451084136963, -0.6204675436019897, 0.44534727931022644, -1.0, 0.0, 0.0, 0.0, -0.27173912525177, -0.9918000102043152, -0.7247428297996521, -0.7832000255584717, -0.550000011920929, -1.0, -0.949999988079071, -0.6829547882080078, 0.6829547882080078, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475], [0.27079451084136963, -0.8264787793159485, 0.12409420311450958, -1.0, 0.0, 0.0, -1.0, -0.06826087087392807, -0.9918000102043152, -0.7247428297996521, -0.7832000255584717, -0.550000011920929, -1.0, -0.949999988079071, -0.6829547882080078, 0.6829547882080078, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475], [0.12336698174476624, 0.27506834268569946, 0.0672692209482193, 0.0, 0.0, -1.0, 0.0, 0.0, -0.9918000102043152, -0.7247428297996521, -0.7832000255584717, -0.550000011920929, -1.0, -0.949999988079071, -0.6829547882080078, 0.6829547882080078, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475], [-0.07320306450128555, 0.27506834268569946, -0.039416175335645676, -1.0, 0.0, 0.0, 0.0, 0.0, -0.9918000102043152, -0.7247428297996521, -0.7832000255584717, -0.550000011920929, -1.0, -0.949999988079071, -0.6829547882080078, 0.6829547882080078, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475], [0.12418602406978607, 0.41284310817718506, -0.039416175335645676, 0.0, 1.0, 0.0, 0.0, -0.08695652335882187, -0.9918000102043152, -0.7247428297996521, -0.7832000255584717, -0.550000011920929, -1.0, -0.949999988079071, -0.6829547882080078, 0.6829547882080078, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475], [0.475509375333786, 0.41284310817718506, -0.4191969633102417, 0.0, 1.0, 0.0, 0.0, 0.17391304671764374, -0.9918000102043152, -0.7247428297996521, -0.7832000255584717, -0.550000011920929, -1.0, -0.949999988079071, -0.6829547882080078, 0.6829547882080078, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475], [0.12466444820165634, 0.41284310817718506, -0.7984606027603149, 0.0, 1.0, 0.0, -1.0, -0.08695652335882187, -0.9918000102043152, -0.7247428297996521, -0.7832000255584717, -0.550000011920929, -1.0, -0.949999988079071, -0.6829547882080078, 0.6829547882080078, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475], [-0.07272464036941528, 0.27506834268569946, -0.7984606027603149, -1.0, 0.0, -5.551115123125783e-17, -1.0, 0.0, -0.9918000102043152, -0.7247428297996521, -0.7832000255584717, -0.550000011920929, -1.0, -0.949999988079071, -0.6829547882080078, 0.6829547882080078, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475], [0.12336698174476624, -0.23252283036708832, 0.0672692209482193, 0.0, 0.0, -1.0, 0.0, 0.0, -0.9918000102043152, -0.7247428297996521, -0.7832000255584717, -0.550000011920929, -1.0, -0.949999988079071, -0.6829547882080078, 0.6829547882080078, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475], [-0.07320306450128555, -0.23252283036708832, -0.039416175335645676, -1.0, 0.0, 0.0, 0.0, 0.0, -0.9918000102043152, -0.7247428297996521, -0.7832000255584717, -0.550000011920929, -1.0, -0.949999988079071, -0.6829547882080078, 0.6829547882080078, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475], [0.12418602406978607, -0.3702975809574127, -0.039416175335645676, 0.0, -1.0, 0.0, 0.0, 0.08695652335882187, -0.9918000102043152, -0.7247428297996521, -0.7832000255584717, -0.550000011920929, -1.0, -0.949999988079071, -0.6829547882080078, 0.6829547882080078, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475], [0.475509375333786, -0.3702975809574127, -0.4191969633102417, 0.0, -1.0, 0.0, 0.0, -0.17391304671764374, -0.9918000102043152, -0.7247428297996521, -0.7832000255584717, -0.550000011920929, -1.0, -0.949999988079071, -0.6829547882080078, 0.6829547882080078, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475], [0.12466444820165634, -0.3702975809574127, -0.7984606027603149, 0.0, -1.0, 0.0, -1.0, 0.08695652335882187, -0.9918000102043152, -0.7247428297996521, -0.7832000255584717, -0.550000011920929, -1.0, -0.949999988079071, -0.6829547882080078, 0.6829547882080078, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475], [-0.07272464036941528, -0.23252283036708832, -0.7984606027603149, -1.0, 0.0, -5.551115123125783e-17, -1.0, 0.0, -0.9918000102043152, -0.7247428297996521, -0.7832000255584717, -0.550000011920929, -1.0, -0.949999988079071, -0.6829547882080078, 0.6829547882080078, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475]] ,
			[20, 23]
		);
		this.dynamic_foot_description = tf.tensor2d(
			[[0.1238454058766365, 0.3657096326351166, -0.8976593017578125, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475], [0.1238454058766365, -0.32316410541534424, -0.8976593017578125, -0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475]] ,
			[2, 10]
		);
		this.general_policy_state_second_part = new Float32Array(
			[-0.5799999833106995, -0.5, 0.5, -0.9629709124565125, -0.7558122277259827, -0.7241874933242798, -0.4657188057899475] ,
		);
		this.p_gain = 21.0;
		this.d_gain = 0.5;
		this.scaling_factor = 0.6;
		this.joint_mask_qpos = new Float32Array([7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26])
		this.joint_mask_qvel = new Float32Array([6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25])
		this.foot_indices = [37, 50];
		this.foot_contact_threshold = 0.01;
	}
}

class SoftbankNaoV5 extends RobotActionHandler {
	constructor() {
		super();
		this.dynamic_joint_description = tf.tensor2d(
			[[-0.25061550736427307, 0.0015436564572155476, 0.5642271041870117, 0.0, 0.0, 1.0, -1.0, 0.0, -0.9969059824943542, -0.5275445580482483, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.45340651273727417, 0.45340651273727417, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [-0.25061550736427307, 0.0015436564572155476, 0.5642271041870117, 0.0, 1.0, 0.0, -1.0, 0.0, -0.996936023235321, -0.5889102816581726, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.1460765153169632, 0.11192869395017624, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [-0.25061550736427307, 0.23216842114925385, -0.1528179943561554, 0.0, 0.7071067690849304, -0.7071067690849304, 0.0, 0.0, -0.9933040142059326, -0.7621862888336182, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.24897608160972595, 0.16102565824985504, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [-0.25061550736427307, 0.23216842114925385, -0.1528179943561554, -1.0, 0.0, 0.0, 0.0, 0.0, -0.9933040142059326, -0.7621862888336182, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.1718391329050064, 0.0824858695268631, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [-0.25061550736427307, 0.23216842114925385, -0.1528179943561554, 0.0, 1.0, 0.0, 0.0, -0.08695652335882187, -0.9939540028572083, -0.6341491341590881, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.3338891267776489, 0.10521304607391357, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [0.1957639902830124, 0.23216842114925385, -0.4650838375091553, 0.0, 1.0, 0.0, 0.0, 0.17391304671764374, -0.9939540028572083, -0.6341491341590881, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.020071282982826233, 0.45925000309944153, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [-0.2635605037212372, 0.23216842114925385, -0.7864054441452026, 0.0, 1.0, 0.0, -1.0, -0.08695652335882187, -0.9939540028572083, -0.6341491341590881, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.2585739195346832, 0.20056109130382538, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [-0.2635605037212372, 0.23216842114925385, -0.7864054441452026, -1.0, 0.0, -5.551115123125783e-17, -1.0, 0.0, -0.9933040142059326, -0.7621862888336182, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.16717217862606049, 0.08646978437900543, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [-0.25061550736427307, -0.22908110916614532, -0.1528179943561554, 0.0, -0.7071067690849304, -0.7071067690849304, 0.0, 0.0, -0.9933040142059326, -0.7621862888336182, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.16102565824985504, 0.24897608160972595, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [-0.25061550736427307, -0.22908110916614532, -0.1528179943561554, -1.0, 0.0, 0.0, 0.0, 0.0, -0.9933040142059326, -0.7621862888336182, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.0824858695268631, 0.1718391329050064, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [-0.25061550736427307, -0.22908110916614532, -0.1528179943561554, 0.0, -1.0, 0.0, 0.0, 0.08695652335882187, -0.9939540028572083, -0.6341491341590881, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.10521304607391357, 0.3338891267776489, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [0.1957639902830124, -0.22908110916614532, -0.4650838375091553, 0.0, -1.0, 0.0, 0.0, -0.17391304671764374, -0.9939540028572083, -0.6341491341590881, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.45925000309944153, 0.020071282982826233, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [-0.2635605037212372, -0.22908110916614532, -0.7864054441452026, 0.0, -1.0, 0.0, -1.0, 0.08695652335882187, -0.9939540028572083, -0.6341491341590881, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.20261000096797943, 0.25789129734039307, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [-0.2635605037212372, -0.22908110916614532, -0.7864054441452026, -1.0, 0.0, -5.551115123125783e-17, -1.0, 0.0, -0.9933040142059326, -0.7621862888336182, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.08646978437900543, 0.16717217862606049, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [-0.25061550736427307, 0.4535681903362274, 0.4743845760822296, 0.0, 1.0, 0.0, 0.0, 0.34130436182022095, -0.9973419904708862, -0.5275445580482483, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.45340651273727417, 0.45340651273727417, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [-0.25061550736427307, 0.4535681903362274, 0.4743845760822296, -0.9999997019767761, 0.0, -0.0007963267271406949, 0.0, -0.043478261679410934, -0.9964330196380615, -0.5889102816581726, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.2883586883544922, 0.0682954341173172, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [-0.24970336258411407, 0.6175944209098816, 0.13560393452644348, -0.0007804532069712877, -0.19866932928562164, 0.9800662398338318, -1.0, 0.34130436182022095, -0.9969059824943542, -0.5275445580482483, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.45340651273727417, 0.45340651273727417, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [-0.24970336258411407, 0.6175944209098816, 0.13560393452644348, 0.0006381208077073097, 0.9800662398338318, 0.19866983592510223, -1.0, -0.043478261679410934, -0.996936023235321, -0.5889102816581726, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.33578696846961975, -0.007588391192257404, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [-0.25061550736427307, -0.4504808783531189, 0.4743845760822296, 0.0, -1.0, 0.0, 0.0, -0.34130436182022095, -0.9973419904708862, -0.5275445580482483, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.45340651273727417, 0.45340651273727417, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [-0.25061550736427307, -0.4504808783531189, 0.4743845760822296, -0.9999997019767761, 0.0, -0.0007963267271406949, 0.0, 0.043478261679410934, -0.9964330196380615, -0.5889102816581726, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.0682954341173172, 0.2883586883544922, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [-0.24970336258411407, -0.6145071387290955, 0.13560393452644348, -0.0007804532069712877, 0.19866932928562164, 0.9800662398338318, -1.0, -0.34130436182022095, -0.9969059824943542, -0.5275445580482483, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, -0.45340651273727417, 0.45340651273727417, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [-0.24970336258411407, -0.6145071387290955, 0.13560393452644348, 0.0006381208077073097, -0.9800662398338318, 0.19866983592510223, -1.0, 0.043478261679410934, -0.996936023235321, -0.5889102816581726, -0.9800000190734863, -0.8999999761581421, -1.0, -0.949999988079071, 0.007588391192257404, 0.33578696846961975, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263]] ,
			[22, 23]
		);
		this.dynamic_foot_description = tf.tensor2d(
			[[-0.009356951341032982, 0.24378088116645813, -0.8721920847892761, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263], [0.0, -0.24097876250743866, -0.8736384510993958, -0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263]] ,
			[2, 10]
		);
		this.general_policy_state_second_part = new Float32Array(
			[-0.4000000059604645, -0.5, 0.5, -0.9375835061073303, -0.8255214095115662, -0.5663952231407166, -0.4100789427757263] ,
		);
		this.p_gain = 30.0;
		this.d_gain = 0.5;
		this.scaling_factor = 0.6;
		this.joint_mask_qpos = new Float32Array([7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 35, 36, 37, 38])
		this.joint_mask_qvel = new Float32Array([6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 34, 35, 36, 37])
		this.foot_indices = [9, 19];
		this.foot_contact_threshold = 0.025;
	}
}

class AgilityRoboticsCassie extends RobotActionHandler {
	constructor() {
		super();
		this.dynamic_joint_description = tf.tensor2d(
			[[0.4742306172847748, 0.4456351101398468, 0.6831307411193848, -1.0, 0.0, -2.220446049250313e-16, 0.0, -0.0009781651897355914, -0.7749999761581421, -0.3058571517467499, -0.800000011920929, -0.6187499761581421, -1.0, -1.0, -0.08536936342716217, 0.05691291019320488, 0.4000000059604645, 1.0, 0.5, -0.6080940961837769, -0.3951720893383026, -0.3999764025211334, 0.2602386772632599], [0.2427598237991333, 0.4456351101398468, 0.6831307411193848, -1.951371369646052e-21, 0.004499544855207205, -0.9999898672103882, 0.0, 0.0, -0.7749999761581421, -0.3058571517467499, -0.800000011920929, -0.6187499761581421, -1.0, -1.0, -0.08536936342716217, 0.08536936342716217, 0.4000000059604645, 1.0, 0.5, -0.6080940961837769, -0.3951720893383026, -0.3999764025211334, 0.2602386772632599], [0.2427598237991333, 0.4469849169254303, 0.5403020977973938, 0.0, 0.9999898672103882, 0.004499544855207205, 0.0, -0.10810891538858414, -0.6096000075340271, -0.5138000249862671, -0.800000011920929, -0.06560000032186508, -1.0, -1.0, -0.303535521030426, 0.18970970809459686, 0.4000000059604645, 1.0, 0.5, -0.6080940961837769, -0.3951720893383026, -0.3999764025211334, 0.2602386772632599], [0.432058721780777, 0.4335674047470093, 0.3728989064693451, 0.0, 0.9999898672103882, 0.004499544855207205, 0.0, 0.09006521850824356, -0.6096000075340271, -0.5138000249862671, -0.800000011920929, -0.06560000032186508, -1.0, -1.0, -0.030353551730513573, 0.4515090882778168, 0.4000000059604645, 1.0, 0.5, -0.6080940961837769, -0.3951720893383026, -0.3999764025211334, 0.2602386772632599], [0.33867695927619934, 0.44487282633781433, -0.8233708143234253, -5.551115123125783e-17, 0.9999898672103882, 0.004499544855207205, -1.0, 0.3471326231956482, -0.9100000262260437, -0.3417600095272064, -0.800000011920929, -0.8774999976158142, -1.0, -1.0, 0.11382582038640976, 0.5311871767044067, 0.4000000059604645, 1.0, 0.5, -0.6080940961837769, -0.3951720893383026, -0.3999764025211334, 0.2602386772632599], [0.4742306172847748, -0.4543294906616211, 0.6831307411193848, -1.0, 0.0, -2.220446049250313e-16, 0.0, 0.0009781651897355914, -0.7749999761581421, -0.3058571517467499, -0.800000011920929, -0.6187499761581421, -1.0, -1.0, -0.05691291019320488, 0.08536936342716217, 0.4000000059604645, 1.0, 0.5, -0.6080940961837769, -0.3951720893383026, -0.3999764025211334, 0.2602386772632599], [0.2427598237991333, -0.4543294906616211, 0.6831307411193848, -1.951371369646052e-21, -0.004499544855207205, -0.9999898672103882, 0.0, 0.0, -0.7749999761581421, -0.3058571517467499, -0.800000011920929, -0.6187499761581421, -1.0, -1.0, -0.08536936342716217, 0.08536936342716217, 0.4000000059604645, 1.0, 0.5, -0.6080940961837769, -0.3951720893383026, -0.3999764025211334, 0.2602386772632599], [0.2427598237991333, -0.4556792974472046, 0.5403020977973938, 0.0, -0.9999898672103882, 0.004499544855207205, 0.0, 0.10810891538858414, -0.6096000075340271, -0.5138000249862671, -0.800000011920929, -0.06560000032186508, -1.0, -1.0, -0.18970970809459686, 0.303535521030426, 0.4000000059604645, 1.0, 0.5, -0.6080940961837769, -0.3951720893383026, -0.3999764025211334, 0.2602386772632599], [0.432058721780777, -0.44226178526878357, 0.3728989064693451, 0.0, -0.9999898672103882, 0.004499544855207205, 0.0, -0.09006521850824356, -0.6096000075340271, -0.5138000249862671, -0.800000011920929, -0.06560000032186508, -1.0, -1.0, -0.4515090882778168, -0.030353551730513573, 0.4000000059604645, 1.0, 0.5, -0.6080940961837769, -0.3951720893383026, -0.3999764025211334, 0.2602386772632599], [0.33867695927619934, -0.4535672068595886, -0.8233708143234253, -5.551115123125783e-17, -0.9999898672103882, 0.004499544855207205, -1.0, -0.3471326231956482, -0.9100000262260437, -0.3417600095272064, -0.800000011920929, -0.8774999976158142, -1.0, -1.0, -0.5311871767044067, -0.11382582038640976, 0.4000000059604645, 1.0, 0.5, -0.6080940961837769, -0.3951720893383026, -0.3999764025211334, 0.2602386772632599]] ,
			[10, 23]
		);
		this.dynamic_foot_description = tf.tensor2d(
			[[0.4048282206058502, 0.44542768597602844, -0.882084310054779, 0.4000000059604645, 1.0, 0.5, -0.6080940961837769, -0.3951720893383026, -0.3999764025211334, 0.2602386772632599], [0.4048282206058502, -0.4541220963001251, -0.882084310054779, 0.4000000059604645, 1.0, 0.5, -0.6080940961837769, -0.3951720893383026, -0.3999764025211334, 0.2602386772632599]] ,
			[2, 10]
		);
		this.general_policy_state_second_part = new Float32Array(
			[0.4000000059604645, 1.0, 0.5, -0.6080940961837769, -0.3951720893383026, -0.3999764025211334, 0.2602386772632599] ,
		);
		this.p_gain = 70.0;
		this.d_gain = 2.0;
		this.scaling_factor = 0.6;
		this.joint_mask_qpos = new Float32Array([7, 8, 9, 14, 20, 21, 22, 23, 28, 34])
		this.joint_mask_qvel = new Float32Array([6, 7, 8, 12, 18, 19, 20, 21, 25, 31])
		this.foot_indices = [24, 44];
		this.foot_contact_threshold = 0.02;
	}
}


export function create_robot_action_handlers() {
    return {
        "unitree_a1/unitree_a1.xml": new UnitreeA1(),
		"unitree_go1/unitree_go1.xml": new UnitreeGo1(),
		"unitree_go2/unitree_go2.xml": new UnitreeGo2(),
		"anybotics_anymal_b/anybotics_anymal_b.xml": new ANYboticsANYmalB(),
		"anybotics_anymal_c/anybotics_anymal_c.xml": new ANYboticsANYmalC(),
		"google_barkour_v0/google_barkour_v0.xml": new GoogleBarkourV0(),
		"google_barkour_vb/google_barkour_vb.xml": new GoogleBarkourVB(),
		"mab_silver_badger/mab_silver_badger.xml": new MABSilverBadger(),
		"petoi_bittle/petoi_bittle.xml": new PetoiBittle(),
		"hexapod/hexapod.xml": new Hexapod(),
		"unitree_h1/unitree_h1.xml": new UnitreeH1(),
		"unitree_g1/unitree_g1.xml": new UnitreeG1(),
		"pal_robotics_talos/pal_robotics_talos.xml": new PALRoboticsTalos(),
		"robotis_op3/robotis_op3.xml": new RobotisOP3(),
		"softbank_nao_v5/softbank_nao_v5.xml": new SoftbankNaoV5(),
		"agility_robotics_cassie/agility_robotics_cassie.xml": new AgilityRoboticsCassie(),
    }
}